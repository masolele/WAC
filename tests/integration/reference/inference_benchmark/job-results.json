{"assets": {"openEO.nc": {"bands": [{"name": "Background"}, {"name": "Other_large_scale_cropland"}, {"name": "Pasture"}, {"name": "Mining"}, {"name": "Other_small_scale_cropland"}, {"name": "Roads"}, {"name": "Forest"}, {"name": "Plantation_forest"}, {"name": "Coffee"}, {"name": "Build_up"}, {"name": "Water"}, {"name": "Oil_palm"}, {"name": "Rubber"}, {"name": "Cacao"}, {"name": "Avocado"}, {"name": "Soy"}, {"name": "Sugar"}, {"name": "Maize"}, {"name": "Banana"}, {"name": "Pineapple"}, {"name": "Rice"}, {"name": "Wood_logging"}, {"name": "Cashew"}, {"name": "Tea"}, {"name": "Others"}, {"name": "ARGMAX"}, {"name": "Tree_cover_density_2020"}], "eo:bands": [{"name": "Background"}, {"name": "Other_large_scale_cropland"}, {"name": "Pasture"}, {"name": "Mining"}, {"name": "Other_small_scale_cropland"}, {"name": "Roads"}, {"name": "Forest"}, {"name": "Plantation_forest"}, {"name": "Coffee"}, {"name": "Build_up"}, {"name": "Water"}, {"name": "Oil_palm"}, {"name": "Rubber"}, {"name": "Cacao"}, {"name": "Avocado"}, {"name": "Soy"}, {"name": "Sugar"}, {"name": "Maize"}, {"name": "Banana"}, {"name": "Pineapple"}, {"name": "Rice"}, {"name": "Wood_logging"}, {"name": "Cashew"}, {"name": "Tea"}, {"name": "Others"}, {"name": "ARGMAX"}, {"name": "Tree_cover_density_2020"}], "href": "https://s3.waw3-1.openeo.v1.dataspace.copernicus.eu/openeo-data-prod-waw4-1/batch_jobs/j-2511271241234cc397a06729cd00cf5b/openEO.nc?X-Proxy-Head-As-Get=true&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=47b2223d7f8747d78b55a52c07cd9d4c%2F20251127%2Fwaw4-1%2Fs3%2Faws4_request&X-Amz-Date=20251127T125540Z&X-Amz-Expires=86400&X-Amz-SignedHeaders=host&X-Amz-Security-Token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlX2FybiI6ImFybjpvcGVuZW93czppYW06Ojpyb2xlL29wZW5lby1kYXRhLXByb2Qtd2F3NC0xLXdvcmtzcGFjZSIsImluaXRpYWxfaXNzdWVyIjoib3BlbmVvLnByb2Qud2F3My0xLm9wZW5lby1pbnQudjEuZGF0YXNwYWNlLmNvcGVybmljdXMuZXUiLCJodHRwczovL2F3cy5hbWF6b24uY29tL3RhZ3MiOnsicHJpbmNpcGFsX3RhZ3MiOnsiam9iX2lkIjpbImotMjUxMTI3MTI0MTIzNGNjMzk3YTA2NzI5Y2QwMGNmNWIiXSwidXNlcl9pZCI6WyI1NzdmNjU0MS1jNTY1LTQ3OTgtYTJjZC01ZmM0MmQ5NjQwMWIiXX0sInRyYW5zaXRpdmVfdGFnX2tleXMiOlsidXNlcl9pZCIsImpvYl9pZCJdfSwiaXNzIjoic3RzLndhdzMtMS5vcGVuZW8udjEuZGF0YXNwYWNlLmNvcGVybmljdXMuZXUiLCJzdWIiOiJvcGVuZW8tZHJpdmVyIiwiZXhwIjoxNzY0MjUxNzM5LCJuYmYiOjE3NjQyNDgxMzksImlhdCI6MTc2NDI0ODEzOSwianRpIjoiOTMxZWYwOWMtODRlNi00YzAxLTkxMDgtOTJjMTJmNjNmZTg3IiwiYWNjZXNzX2tleV9pZCI6IjQ3YjIyMjNkN2Y4NzQ3ZDc4YjU1YTUyYzA3Y2Q5ZDRjIn0.xR4oENW-cDkIlKj2WGp3IP4zATn-ILavxapkQHW0rIGLuVv_-ESLdTWzVm0LZHx1yd8BDgjHXg1CQdXtknbNoThZsSx1mmlJXPelbUEdau5ggUTz5UX1_b_TzoetqoJTr63VeZXlCDnEfbFxePwfX5-vtPiibiuWIIJruSzfhkyHBt38EvRtpQPY32XwRg4IzLywBll41kDZc2aDg8sWydTEEzK45NrIgrhtA8U2efiuJP_-sCO_NzCMZDWpmXNLPvXwrJat5kJaNn4pMhX45uS9Q1eGgv5l9YD9wJjXiHBwsKMOEue5wEYG1_4ExRTdtf2e5qleo7ejZkPTMSMAug&X-Amz-Signature=d8e072f25eca8051e8a542092e20d970fde67b1964c2fed4101559cbe861ef2b", "proj:bbox": [817470.0, -522780.0, 817840.0, -522490.0], "proj:epsg": 32634, "proj:shape": [29, 37], "raster:bands": [{"name": "Background", "statistics": {"maximum": 1.9318180477512e-07, "mean": 5.7585821251071e-08, "minimum": 1.550506834036e-09, "stddev": 4.4517724454572e-08, "valid_percent": 100.0}}, {"name": "Other_large_scale_cropland", "statistics": {"maximum": 0.032354135066271, "mean": 0.0026828185774846, "minimum": 2.1826740521647e-06, "stddev": 0.0047124597978825, "valid_percent": 100.0}}, {"name": "Pasture", "statistics": {"maximum": 0.0018880976131186, "mean": 0.00030294205566755, "minimum": 5.7698657656147e-06, "stddev": 0.00028705847176472, "valid_percent": 100.0}}, {"name": "Mining", "statistics": {"maximum": 0.0089376280084252, "mean": 0.0020046140424781, "minimum": 2.3004973627394e-05, "stddev": 0.0015243297280425, "valid_percent": 100.0}}, {"name": "Other_small_scale_cropland", "statistics": {"maximum": 0.026180116459727, "mean": 0.0034662346029367, "minimum": 8.2589049270609e-06, "stddev": 0.0046916075252269, "valid_percent": 100.0}}, {"name": "Roads", "statistics": {"maximum": 0.25692445039749, "mean": 0.0057432935060996, "minimum": 7.9822581028566e-05, "stddev": 0.021362131656355, "valid_percent": 100.0}}, {"name": "Forest", "statistics": {"maximum": 0.95586693286896, "mean": 0.35232484917927, "minimum": 0.0038315390702337, "stddev": 0.25853059961977, "valid_percent": 100.0}}, {"name": "Plantation_forest", "statistics": {"maximum": 0.30470237135887, "mean": 0.021185355149827, "minimum": 2.3852089725551e-05, "stddev": 0.043251666333993, "valid_percent": 100.0}}, {"name": "Coffee", "statistics": {"maximum": 0.025398340076208, "mean": 0.0022106489645502, "minimum": 4.3421474401839e-05, "stddev": 0.0031153854849001, "valid_percent": 100.0}}, {"name": "Build_up", "statistics": {"maximum": 0.01599926687777, "mean": 0.0017825355470571, "minimum": 1.5747275028843e-05, "stddev": 0.0023676357071106, "valid_percent": 100.0}}, {"name": "Water", "statistics": {"maximum": 0.0030050405766815, "mean": 0.00049737461513012, "minimum": 4.0821564653015e-06, "stddev": 0.00055187027587787, "valid_percent": 100.0}}, {"name": "Oil_palm", "statistics": {"maximum": 0.97275692224503, "mean": 0.19549446970701, "minimum": 1.3261113963381e-05, "stddev": 0.29889579155602, "valid_percent": 100.0}}, {"name": "Rubber", "statistics": {"maximum": 0.0083778221160173, "mean": 0.0011277109806965, "minimum": 8.2148767432955e-07, "stddev": 0.0016780652662753, "valid_percent": 100.0}}, {"name": "Cacao", "statistics": {"maximum": 0.71040117740631, "mean": 0.12648333215765, "minimum": 2.415136577838e-06, "stddev": 0.19119595430602, "valid_percent": 100.0}}, {"name": "Avocado", "statistics": {"maximum": 0.0014097623061389, "mean": 0.00019443005783975, "minimum": 4.1155522012559e-06, "stddev": 0.00017602097734672, "valid_percent": 100.0}}, {"name": "Soy", "statistics": {"maximum": 0.03505240008235, "mean": 0.0045724770405393, "minimum": 6.1237522459123e-05, "stddev": 0.006987601847318, "valid_percent": 100.0}}, {"name": "Sugar", "statistics": {"maximum": 0.0043910201638937, "mean": 0.0006701561972639, "minimum": 4.2856652726186e-05, "stddev": 0.00061508424551793, "valid_percent": 100.0}}, {"name": "Maize", "statistics": {"maximum": 0.078437559306622, "mean": 0.0092126113662165, "minimum": 7.5658717832994e-05, "stddev": 0.010602312154725, "valid_percent": 100.0}}, {"name": "Banana", "statistics": {"maximum": 0.0061512673273683, "mean": 0.00067234051254333, "minimum": 1.0129416295968e-05, "stddev": 0.00085458448325665, "valid_percent": 100.0}}, {"name": "Pineapple", "statistics": {"maximum": 0.0055816490203142, "mean": 0.00050324362768891, "minimum": 1.8894728555097e-06, "stddev": 0.00062195968542682, "valid_percent": 100.0}}, {"name": "Rice", "statistics": {"maximum": 0.00036189093952999, "mean": 7.6436749034004e-05, "minimum": 4.632102445612e-06, "stddev": 5.649652140649e-05, "valid_percent": 100.0}}, {"name": "Wood_logging", "statistics": {"maximum": 0.80011004209518, "mean": 0.2650537026876, "minimum": 0.0030474527738988, "stddev": 0.16284958491891, "valid_percent": 100.0}}, {"name": "Cashew", "statistics": {"maximum": 0.0011107802856714, "mean": 0.00045084768486576, "minimum": 5.1022281695623e-05, "stddev": 0.00021275953053838, "valid_percent": 100.0}}, {"name": "Tea", "statistics": {"maximum": 0.051064446568489, "mean": 0.0031796875724418, "minimum": 3.9733680750942e-05, "stddev": 0.0053794435886838, "valid_percent": 100.0}}, {"name": "Others", "statistics": {"maximum": 0.00064258009660989, "mean": 0.0001078313534175, "minimum": 1.6355218122044e-06, "stddev": 0.00010004708923246, "valid_percent": 100.0}}, {"name": "ARGMAX", "statistics": {"maximum": 21.0, "mean": 11.013979496738, "minimum": 6.0, "stddev": 5.4997068724352, "valid_percent": 100.0}}, {"name": "Tree_cover_density_2020", "statistics": {"maximum": 100.0, "mean": 99.990680335508, "minimum": 90.0, "stddev": 0.30513896633262, "valid_percent": 100.0}}], "roles": ["data"], "title": "openEO.nc", "type": "application/x-netcdf"}}, "description": "Results for batch job j-2511271241234cc397a06729cd00cf5b", "extent": {"spatial": {"bbox": [[23.86153452606173, -4.723704999999998, 23.864816485872776, -4.721138]]}, "temporal": {"interval": [["2025-01-01T00:00:00Z", "2026-01-01T00:00:00Z"]]}}, "id": "j-2511271241234cc397a06729cd00cf5b", "license": "proprietary", "links": [{"href": "/eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/09/01/Sentinel-1_IW_mosaic_2025_M09_34MHV_0_0", "rel": "derived_from", "title": "Derived from /eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/09/01/Sentinel-1_IW_mosaic_2025_M09_34MHV_0_0", "type": "application/json"}, {"href": "/eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/03/01/Sentinel-1_IW_mosaic_2025_M03_34MHV_0_0", "rel": "derived_from", "title": "Derived from /eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/03/01/Sentinel-1_IW_mosaic_2025_M03_34MHV_0_0", "type": "application/json"}, {"href": "/eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/04/01/Sentinel-1_IW_mosaic_2025_M04_34MHV_0_0", "rel": "derived_from", "title": "Derived from /eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/04/01/Sentinel-1_IW_mosaic_2025_M04_34MHV_0_0", "type": "application/json"}, {"href": "/eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/06/01/Sentinel-1_IW_mosaic_2025_M06_34MHV_0_0", "rel": "derived_from", "title": "Derived from /eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/06/01/Sentinel-1_IW_mosaic_2025_M06_34MHV_0_0", "type": "application/json"}, {"href": "/eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/05/01/Sentinel-1_IW_mosaic_2025_M05_34MHV_0_0", "rel": "derived_from", "title": "Derived from /eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/05/01/Sentinel-1_IW_mosaic_2025_M05_34MHV_0_0", "type": "application/json"}, {"href": "/eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/08/01/Sentinel-1_IW_mosaic_2025_M08_34MHV_0_0", "rel": "derived_from", "title": "Derived from /eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/08/01/Sentinel-1_IW_mosaic_2025_M08_34MHV_0_0", "type": "application/json"}, {"href": "/eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/02/01/Sentinel-1_IW_mosaic_2025_M02_34MHV_0_0", "rel": "derived_from", "title": "Derived from /eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/02/01/Sentinel-1_IW_mosaic_2025_M02_34MHV_0_0", "type": "application/json"}, {"href": "/eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/07/01/Sentinel-1_IW_mosaic_2025_M07_34MHV_0_0", "rel": "derived_from", "title": "Derived from /eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/07/01/Sentinel-1_IW_mosaic_2025_M07_34MHV_0_0", "type": "application/json"}, {"href": "/eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/10/01/Sentinel-1_IW_mosaic_2025_M10_34MHV_0_0", "rel": "derived_from", "title": "Derived from /eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2025/10/01/Sentinel-1_IW_mosaic_2025_M10_34MHV_0_0", "type": "application/json"}, {"href": "LCFM_TCD-10_V100_2020_S06E021_MAP", "rel": "derived_from", "title": "Derived from LCFM_TCD-10_V100_2020_S06E021_MAP", "type": "application/json"}, {"href": "/eodata/auxdata/CopDEM/COP-DEM_GLO-30-DGED/DEM1_SAR_DGE_30_20101212T040432_20130429T040610_ADS_000000_4EHT.DEM", "rel": "derived_from", "title": "Derived from /eodata/auxdata/CopDEM/COP-DEM_GLO-30-DGED/DEM1_SAR_DGE_30_20101212T040432_20130429T040610_ADS_000000_4EHT.DEM", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/08/30/S2C_MSIL2A_20250830T084601_N0511_R021_T34MHV_20250830T135013.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/08/30/S2C_MSIL2A_20250830T084601_N0511_R021_T34MHV_20250830T135013.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/07/11/S2C_MSIL2A_20250711T082621_N0511_R021_T34MHV_20250711T141415.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/07/11/S2C_MSIL2A_20250711T082621_N0511_R021_T34MHV_20250711T141415.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/05/14/S2A_MSIL2A_20250514T082751_N0511_R021_T34MHV_20250514T121053.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/05/14/S2A_MSIL2A_20250514T082751_N0511_R021_T34MHV_20250514T121053.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/21/S2C_MSIL2A_20250621T082621_N0511_R021_T34MHV_20250621T131215.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/21/S2C_MSIL2A_20250621T082621_N0511_R021_T34MHV_20250621T131215.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/09/14/S2B_MSIL2A_20250914T082559_N0511_R021_T34MHV_20250914T122648.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/09/14/S2B_MSIL2A_20250914T082559_N0511_R021_T34MHV_20250914T122648.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/07/21/S2C_MSIL2A_20250721T084601_N0511_R021_T34MHV_20250721T143414.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/07/21/S2C_MSIL2A_20250721T084601_N0511_R021_T34MHV_20250721T143414.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/09/29/S2C_MSIL2A_20250929T082751_N0511_R021_T34MHV_20250929T143119.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/09/29/S2C_MSIL2A_20250929T082751_N0511_R021_T34MHV_20250929T143119.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/04/17/S2B_MSIL2A_20250417T082609_N0511_R021_T34MHV_20250417T113008.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/04/17/S2B_MSIL2A_20250417T082609_N0511_R021_T34MHV_20250417T113008.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/09/04/S2B_MSIL2A_20250904T082559_N0511_R021_T34MHV_20250904T123545.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/09/04/S2B_MSIL2A_20250904T082559_N0511_R021_T34MHV_20250904T123545.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/04/27/S2B_MSIL2A_20250427T082559_N0511_R021_T34MHV_20250427T112734.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/04/27/S2B_MSIL2A_20250427T082559_N0511_R021_T34MHV_20250427T112734.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/06/S2B_MSIL2A_20250606T082559_N0511_R021_T34MHV_20250606T123841.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/06/S2B_MSIL2A_20250606T082559_N0511_R021_T34MHV_20250606T123841.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/11/03/S2B_MSIL2A_20251103T083029_N0511_R021_T34MHV_20251103T112406.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/11/03/S2B_MSIL2A_20251103T083029_N0511_R021_T34MHV_20251103T112406.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/10/11/S2A_MSIL2A_20251011T084531_N0511_R021_T34MHV_20251011T111414.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/10/11/S2A_MSIL2A_20251011T084531_N0511_R021_T34MHV_20251011T111414.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/07/16/S2B_MSIL2A_20250716T082609_N0511_R021_T34MHV_20250716T112419.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/07/16/S2B_MSIL2A_20250716T082609_N0511_R021_T34MHV_20250716T112419.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/01/27/S2B_MSIL2A_20250127T083129_N0511_R021_T34MHV_20250127T113110.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/01/27/S2B_MSIL2A_20250127T083129_N0511_R021_T34MHV_20250127T113110.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/05/27/S2B_MSIL2A_20250527T082559_N0511_R021_T34MHV_20250527T130933.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/05/27/S2B_MSIL2A_20250527T082559_N0511_R021_T34MHV_20250527T130933.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/08/02/S2A_MSIL2A_20250802T082751_N0511_R021_T34MHV_20250802T124114.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/08/02/S2A_MSIL2A_20250802T082751_N0511_R021_T34MHV_20250802T124114.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/02/21/S2C_MSIL2A_20250221T083011_N0511_R021_T34MHV_20250221T154259.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/02/21/S2C_MSIL2A_20250221T083011_N0511_R021_T34MHV_20250221T154259.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/26/S2B_MSIL2A_20250626T082559_N0511_R021_T34MHV_20250626T112545.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/26/S2B_MSIL2A_20250626T082559_N0511_R021_T34MHV_20250626T112545.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/07/13/S2A_MSIL2A_20250713T082751_N0511_R021_T34MHV_20250713T115814.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/07/13/S2A_MSIL2A_20250713T082751_N0511_R021_T34MHV_20250713T115814.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/05/07/S2B_MSIL2A_20250507T082559_N0511_R021_T34MHV_20250507T123827.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/05/07/S2B_MSIL2A_20250507T082559_N0511_R021_T34MHV_20250507T123827.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/09/01/S2A_MSIL2A_20250901T084531_N0511_R021_T34MHV_20250901T115915.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/09/01/S2A_MSIL2A_20250901T084531_N0511_R021_T34MHV_20250901T115915.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/07/03/S2A_MSIL2A_20250703T084541_N0511_R021_T34MHV_20250703T120759.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/07/03/S2A_MSIL2A_20250703T084541_N0511_R021_T34MHV_20250703T120759.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/07/31/S2C_MSIL2A_20250731T084601_N0511_R021_T34MHV_20250731T134057.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/07/31/S2C_MSIL2A_20250731T084601_N0511_R021_T34MHV_20250731T134057.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/03/28/S2B_MSIL2A_20250328T082559_N0511_R021_T34MHV_20250328T112734.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/03/28/S2B_MSIL2A_20250328T082559_N0511_R021_T34MHV_20250328T112734.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/08/25/S2B_MSIL2A_20250825T082559_N0511_R021_T34MHV_20250825T111405.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/08/25/S2B_MSIL2A_20250825T082559_N0511_R021_T34MHV_20250825T111405.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/01/12/S2A_MSIL2A_20250112T083321_N0511_R021_T34MHV_20250112T123452.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/01/12/S2A_MSIL2A_20250112T083321_N0511_R021_T34MHV_20250112T123452.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/10/09/S2C_MSIL2A_20251009T082901_N0511_R021_T34MHV_20251009T155421.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/10/09/S2C_MSIL2A_20251009T082901_N0511_R021_T34MHV_20251009T155421.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/04/22/S2C_MSIL2A_20250422T084601_N0511_R021_T34MHV_20250422T140817.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/04/22/S2C_MSIL2A_20250422T084601_N0511_R021_T34MHV_20250422T140817.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/03/25/S2A_MSIL2A_20250325T084531_N0511_R021_T34MHV_20250325T141515.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/03/25/S2A_MSIL2A_20250325T084531_N0511_R021_T34MHV_20250325T141515.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/01/S2C_MSIL2A_20250601T082621_N0511_R021_T34MHV_20250601T131313.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/01/S2C_MSIL2A_20250601T082621_N0511_R021_T34MHV_20250601T131313.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/09/19/S2C_MSIL2A_20250919T082631_N0511_R021_T34MHV_20250919T144118.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/09/19/S2C_MSIL2A_20250919T082631_N0511_R021_T34MHV_20250919T144118.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/08/20/S2C_MSIL2A_20250820T084601_N0511_R021_T34MHV_20250820T143813.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/08/20/S2C_MSIL2A_20250820T084601_N0511_R021_T34MHV_20250820T143813.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/05/24/S2A_MSIL2A_20250524T084531_N0511_R021_T34MHV_20250524T111257.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/05/24/S2A_MSIL2A_20250524T084531_N0511_R021_T34MHV_20250524T111257.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/03/S2A_MSIL2A_20250603T082751_N0511_R021_T34MHV_20250603T123912.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/03/S2A_MSIL2A_20250603T082751_N0511_R021_T34MHV_20250603T123912.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/04/14/S2A_MSIL2A_20250414T084531_N0511_R021_T34MHV_20250414T154214.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/04/14/S2A_MSIL2A_20250414T084531_N0511_R021_T34MHV_20250414T154214.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/16/S2B_MSIL2A_20250616T082559_N0511_R021_T34MHV_20250616T112805.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/16/S2B_MSIL2A_20250616T082559_N0511_R021_T34MHV_20250616T112805.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/01/07/S2B_MSIL2A_20250107T083239_N0511_R021_T34MHV_20250107T112601.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/01/07/S2B_MSIL2A_20250107T083239_N0511_R021_T34MHV_20250107T112601.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/13/S2A_MSIL2A_20250613T084531_N0511_R021_T34MHV_20250613T111544.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/13/S2A_MSIL2A_20250613T084531_N0511_R021_T34MHV_20250613T111544.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/01/22/S2C_MSIL2A_20250122T083311_N0511_R021_T34MHV_20250122T120610.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/01/22/S2C_MSIL2A_20250122T083311_N0511_R021_T34MHV_20250122T120610.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/08/22/S2A_MSIL2A_20250822T082751_N0511_R021_T34MHV_20250822T121906.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/08/22/S2A_MSIL2A_20250822T082751_N0511_R021_T34MHV_20250822T121906.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/10/29/S2C_MSIL2A_20251029T084551_N0511_R021_T34MHV_20251029T115725.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/10/29/S2C_MSIL2A_20251029T084551_N0511_R021_T34MHV_20251029T115725.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/08/12/S2A_MSIL2A_20250812T084531_N0511_R021_T34MHV_20250812T111712.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/08/12/S2A_MSIL2A_20250812T084531_N0511_R021_T34MHV_20250812T111712.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/10/19/S2C_MSIL2A_20251019T082951_N0511_R021_T34MHV_20251019T154318.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/10/19/S2C_MSIL2A_20251019T082951_N0511_R021_T34MHV_20251019T154318.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/10/21/S2A_MSIL2A_20251021T083021_N0511_R021_T34MHV_20251021T121521.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/10/21/S2A_MSIL2A_20251021T083021_N0511_R021_T34MHV_20251021T121521.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/03/13/S2C_MSIL2A_20250313T082751_N0511_R021_T34MHV_20250313T144806.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/03/13/S2C_MSIL2A_20250313T082751_N0511_R021_T34MHV_20250313T144806.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/02/01/S2C_MSIL2A_20250201T083221_N0511_R021_T34MHV_20250204T153113.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/02/01/S2C_MSIL2A_20250201T083221_N0511_R021_T34MHV_20250204T153113.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/10/04/S2B_MSIL2A_20251004T082709_N0511_R021_T34MHV_20251004T124436.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/10/04/S2B_MSIL2A_20251004T082709_N0511_R021_T34MHV_20251004T124436.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/23/S2A_MSIL2A_20250623T082751_N0511_R021_T34MHV_20250623T122617.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/23/S2A_MSIL2A_20250623T082751_N0511_R021_T34MHV_20250623T122617.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/11/20/S2A_MSIL2A_20251120T084531_N0511_R021_T34MHV_20251120T110920.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/11/20/S2A_MSIL2A_20251120T084531_N0511_R021_T34MHV_20251120T110920.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/08/05/S2B_MSIL2A_20250805T082559_N0511_R021_T34MHV_20250805T123806.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/08/05/S2B_MSIL2A_20250805T082559_N0511_R021_T34MHV_20250805T123806.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/07/01/S2C_MSIL2A_20250701T082621_N0511_R021_T34MHV_20250701T141520.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/07/01/S2C_MSIL2A_20250701T082621_N0511_R021_T34MHV_20250701T141520.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/05/22/S2C_MSIL2A_20250522T082621_N0511_R021_T34MHV_20250522T135215.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/05/22/S2C_MSIL2A_20250522T082621_N0511_R021_T34MHV_20250522T135215.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/11/S2C_MSIL2A_20250611T082621_N0511_R021_T34MHV_20250611T173317.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/11/S2C_MSIL2A_20250611T082621_N0511_R021_T34MHV_20250611T173317.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/08/30/S2C_MSIL2A_20250830T084601_N0511_R021_T34MHV_20250830T135013.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/08/30/S2C_MSIL2A_20250830T084601_N0511_R021_T34MHV_20250830T135013.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/07/11/S2C_MSIL2A_20250711T082621_N0511_R021_T34MHV_20250711T141415.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/07/11/S2C_MSIL2A_20250711T082621_N0511_R021_T34MHV_20250711T141415.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/05/14/S2A_MSIL2A_20250514T082751_N0511_R021_T34MHV_20250514T121053.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/05/14/S2A_MSIL2A_20250514T082751_N0511_R021_T34MHV_20250514T121053.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/21/S2C_MSIL2A_20250621T082621_N0511_R021_T34MHV_20250621T131215.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/21/S2C_MSIL2A_20250621T082621_N0511_R021_T34MHV_20250621T131215.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/09/14/S2B_MSIL2A_20250914T082559_N0511_R021_T34MHV_20250914T122648.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/09/14/S2B_MSIL2A_20250914T082559_N0511_R021_T34MHV_20250914T122648.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/07/21/S2C_MSIL2A_20250721T084601_N0511_R021_T34MHV_20250721T143414.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/07/21/S2C_MSIL2A_20250721T084601_N0511_R021_T34MHV_20250721T143414.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/09/29/S2C_MSIL2A_20250929T082751_N0511_R021_T34MHV_20250929T143119.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/09/29/S2C_MSIL2A_20250929T082751_N0511_R021_T34MHV_20250929T143119.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/04/17/S2B_MSIL2A_20250417T082609_N0511_R021_T34MHV_20250417T113008.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/04/17/S2B_MSIL2A_20250417T082609_N0511_R021_T34MHV_20250417T113008.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/09/04/S2B_MSIL2A_20250904T082559_N0511_R021_T34MHV_20250904T123545.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/09/04/S2B_MSIL2A_20250904T082559_N0511_R021_T34MHV_20250904T123545.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/04/27/S2B_MSIL2A_20250427T082559_N0511_R021_T34MHV_20250427T112734.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/04/27/S2B_MSIL2A_20250427T082559_N0511_R021_T34MHV_20250427T112734.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/06/S2B_MSIL2A_20250606T082559_N0511_R021_T34MHV_20250606T123841.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/06/S2B_MSIL2A_20250606T082559_N0511_R021_T34MHV_20250606T123841.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/11/03/S2B_MSIL2A_20251103T083029_N0511_R021_T34MHV_20251103T112406.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/11/03/S2B_MSIL2A_20251103T083029_N0511_R021_T34MHV_20251103T112406.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/10/11/S2A_MSIL2A_20251011T084531_N0511_R021_T34MHV_20251011T111414.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/10/11/S2A_MSIL2A_20251011T084531_N0511_R021_T34MHV_20251011T111414.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/07/16/S2B_MSIL2A_20250716T082609_N0511_R021_T34MHV_20250716T112419.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/07/16/S2B_MSIL2A_20250716T082609_N0511_R021_T34MHV_20250716T112419.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/01/27/S2B_MSIL2A_20250127T083129_N0511_R021_T34MHV_20250127T113110.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/01/27/S2B_MSIL2A_20250127T083129_N0511_R021_T34MHV_20250127T113110.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/05/27/S2B_MSIL2A_20250527T082559_N0511_R021_T34MHV_20250527T130933.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/05/27/S2B_MSIL2A_20250527T082559_N0511_R021_T34MHV_20250527T130933.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/08/02/S2A_MSIL2A_20250802T082751_N0511_R021_T34MHV_20250802T124114.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/08/02/S2A_MSIL2A_20250802T082751_N0511_R021_T34MHV_20250802T124114.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/02/21/S2C_MSIL2A_20250221T083011_N0511_R021_T34MHV_20250221T154259.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/02/21/S2C_MSIL2A_20250221T083011_N0511_R021_T34MHV_20250221T154259.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/26/S2B_MSIL2A_20250626T082559_N0511_R021_T34MHV_20250626T112545.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/26/S2B_MSIL2A_20250626T082559_N0511_R021_T34MHV_20250626T112545.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/07/13/S2A_MSIL2A_20250713T082751_N0511_R021_T34MHV_20250713T115814.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/07/13/S2A_MSIL2A_20250713T082751_N0511_R021_T34MHV_20250713T115814.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/05/07/S2B_MSIL2A_20250507T082559_N0511_R021_T34MHV_20250507T123827.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/05/07/S2B_MSIL2A_20250507T082559_N0511_R021_T34MHV_20250507T123827.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/09/01/S2A_MSIL2A_20250901T084531_N0511_R021_T34MHV_20250901T115915.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/09/01/S2A_MSIL2A_20250901T084531_N0511_R021_T34MHV_20250901T115915.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/07/03/S2A_MSIL2A_20250703T084541_N0511_R021_T34MHV_20250703T120759.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/07/03/S2A_MSIL2A_20250703T084541_N0511_R021_T34MHV_20250703T120759.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/07/31/S2C_MSIL2A_20250731T084601_N0511_R021_T34MHV_20250731T134057.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/07/31/S2C_MSIL2A_20250731T084601_N0511_R021_T34MHV_20250731T134057.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/03/28/S2B_MSIL2A_20250328T082559_N0511_R021_T34MHV_20250328T112734.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/03/28/S2B_MSIL2A_20250328T082559_N0511_R021_T34MHV_20250328T112734.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/08/25/S2B_MSIL2A_20250825T082559_N0511_R021_T34MHV_20250825T111405.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/08/25/S2B_MSIL2A_20250825T082559_N0511_R021_T34MHV_20250825T111405.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/01/12/S2A_MSIL2A_20250112T083321_N0511_R021_T34MHV_20250112T123452.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/01/12/S2A_MSIL2A_20250112T083321_N0511_R021_T34MHV_20250112T123452.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/10/09/S2C_MSIL2A_20251009T082901_N0511_R021_T34MHV_20251009T155421.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/10/09/S2C_MSIL2A_20251009T082901_N0511_R021_T34MHV_20251009T155421.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/04/22/S2C_MSIL2A_20250422T084601_N0511_R021_T34MHV_20250422T140817.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/04/22/S2C_MSIL2A_20250422T084601_N0511_R021_T34MHV_20250422T140817.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/03/25/S2A_MSIL2A_20250325T084531_N0511_R021_T34MHV_20250325T141515.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/03/25/S2A_MSIL2A_20250325T084531_N0511_R021_T34MHV_20250325T141515.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/01/S2C_MSIL2A_20250601T082621_N0511_R021_T34MHV_20250601T131313.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/01/S2C_MSIL2A_20250601T082621_N0511_R021_T34MHV_20250601T131313.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/09/19/S2C_MSIL2A_20250919T082631_N0511_R021_T34MHV_20250919T144118.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/09/19/S2C_MSIL2A_20250919T082631_N0511_R021_T34MHV_20250919T144118.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/08/20/S2C_MSIL2A_20250820T084601_N0511_R021_T34MHV_20250820T143813.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/08/20/S2C_MSIL2A_20250820T084601_N0511_R021_T34MHV_20250820T143813.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/05/24/S2A_MSIL2A_20250524T084531_N0511_R021_T34MHV_20250524T111257.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/05/24/S2A_MSIL2A_20250524T084531_N0511_R021_T34MHV_20250524T111257.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/03/S2A_MSIL2A_20250603T082751_N0511_R021_T34MHV_20250603T123912.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/03/S2A_MSIL2A_20250603T082751_N0511_R021_T34MHV_20250603T123912.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/04/14/S2A_MSIL2A_20250414T084531_N0511_R021_T34MHV_20250414T154214.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/04/14/S2A_MSIL2A_20250414T084531_N0511_R021_T34MHV_20250414T154214.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/16/S2B_MSIL2A_20250616T082559_N0511_R021_T34MHV_20250616T112805.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/16/S2B_MSIL2A_20250616T082559_N0511_R021_T34MHV_20250616T112805.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/01/07/S2B_MSIL2A_20250107T083239_N0511_R021_T34MHV_20250107T112601.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/01/07/S2B_MSIL2A_20250107T083239_N0511_R021_T34MHV_20250107T112601.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/13/S2A_MSIL2A_20250613T084531_N0511_R021_T34MHV_20250613T111544.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/13/S2A_MSIL2A_20250613T084531_N0511_R021_T34MHV_20250613T111544.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/01/22/S2C_MSIL2A_20250122T083311_N0511_R021_T34MHV_20250122T120610.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/01/22/S2C_MSIL2A_20250122T083311_N0511_R021_T34MHV_20250122T120610.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/08/22/S2A_MSIL2A_20250822T082751_N0511_R021_T34MHV_20250822T121906.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/08/22/S2A_MSIL2A_20250822T082751_N0511_R021_T34MHV_20250822T121906.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/10/29/S2C_MSIL2A_20251029T084551_N0511_R021_T34MHV_20251029T115725.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/10/29/S2C_MSIL2A_20251029T084551_N0511_R021_T34MHV_20251029T115725.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/08/12/S2A_MSIL2A_20250812T084531_N0511_R021_T34MHV_20250812T111712.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/08/12/S2A_MSIL2A_20250812T084531_N0511_R021_T34MHV_20250812T111712.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/10/19/S2C_MSIL2A_20251019T082951_N0511_R021_T34MHV_20251019T154318.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/10/19/S2C_MSIL2A_20251019T082951_N0511_R021_T34MHV_20251019T154318.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/10/21/S2A_MSIL2A_20251021T083021_N0511_R021_T34MHV_20251021T121521.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/10/21/S2A_MSIL2A_20251021T083021_N0511_R021_T34MHV_20251021T121521.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/03/13/S2C_MSIL2A_20250313T082751_N0511_R021_T34MHV_20250313T144806.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/03/13/S2C_MSIL2A_20250313T082751_N0511_R021_T34MHV_20250313T144806.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/02/01/S2C_MSIL2A_20250201T083221_N0511_R021_T34MHV_20250204T153113.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/02/01/S2C_MSIL2A_20250201T083221_N0511_R021_T34MHV_20250204T153113.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/10/04/S2B_MSIL2A_20251004T082709_N0511_R021_T34MHV_20251004T124436.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/10/04/S2B_MSIL2A_20251004T082709_N0511_R021_T34MHV_20251004T124436.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/23/S2A_MSIL2A_20250623T082751_N0511_R021_T34MHV_20250623T122617.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/23/S2A_MSIL2A_20250623T082751_N0511_R021_T34MHV_20250623T122617.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/11/20/S2A_MSIL2A_20251120T084531_N0511_R021_T34MHV_20251120T110920.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/11/20/S2A_MSIL2A_20251120T084531_N0511_R021_T34MHV_20251120T110920.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/08/05/S2B_MSIL2A_20250805T082559_N0511_R021_T34MHV_20250805T123806.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/08/05/S2B_MSIL2A_20250805T082559_N0511_R021_T34MHV_20250805T123806.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/07/01/S2C_MSIL2A_20250701T082621_N0511_R021_T34MHV_20250701T141520.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/07/01/S2C_MSIL2A_20250701T082621_N0511_R021_T34MHV_20250701T141520.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/05/22/S2C_MSIL2A_20250522T082621_N0511_R021_T34MHV_20250522T135215.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/05/22/S2C_MSIL2A_20250522T082621_N0511_R021_T34MHV_20250522T135215.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A/2025/06/11/S2C_MSIL2A_20250611T082621_N0511_R021_T34MHV_20250611T173317.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A/2025/06/11/S2C_MSIL2A_20250611T082621_N0511_R021_T34MHV_20250611T173317.SAFE", "type": "application/json"}, {"href": "https://openeo.dataspace.copernicus.eu/openeo/1.2/jobs/j-2511271241234cc397a06729cd00cf5b/results", "rel": "self", "type": "application/json"}, {"href": "https://openeo.dataspace.copernicus.eu/openeo/1.2/jobs/j-2511271241234cc397a06729cd00cf5b/results/NTc3ZjY1NDEtYzU2NS00Nzk4LWEyY2QtNWZjNDJkOTY0MDFi/b899a5aaffde9139b69a1cebc1a90b28?expires=1764852939", "rel": "canonical", "type": "application/json"}, {"href": "http://ceos.org/ard/files/PFS/SR/v5.0/CARD4L_Product_Family_Specification_Surface_Reflectance-v5.0.pdf", "rel": "card4l-document", "type": "application/pdf"}, {"href": "https://openeo.dataspace.copernicus.eu/openeo/1.2/jobs/j-2511271241234cc397a06729cd00cf5b/results/items/NTc3ZjY1NDEtYzU2NS00Nzk4LWEyY2QtNWZjNDJkOTY0MDFi/a5a63575313051647bfaca51cdd6caf3/openEO.nc?expires=1764852940", "rel": "item", "type": "application/geo+json"}], "openeo:status": "finished", "providers": [{"description": "This data was processed on an openEO backend maintained by VITO.", "name": "VITO", "processing:expression": {"expression": {"adddimension1": {"arguments": {"data": {"from_node": "ndvi1"}, "label": "NDVI", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "adddimension2": {"arguments": {"data": {"from_node": "reducedimension1"}, "label": "NDRE", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "adddimension3": {"arguments": {"data": {"from_node": "reducedimension2"}, "label": "EVI", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "aggregatetemporalperiod1": {"arguments": {"data": {"from_node": "mask1"}, "period": "year", "reducer": {"process_graph": {"quantiles1": {"arguments": {"data": {"from_parameter": "data"}, "probabilities": [0.85]}, "process_id": "quantiles", "result": true}}}}, "process_id": "aggregate_temporal_period"}, "aggregatetemporalperiod2": {"arguments": {"data": {"from_node": "apply1"}, "period": "year", "reducer": {"process_graph": {"quantiles2": {"arguments": {"data": {"from_parameter": "data"}, "probabilities": [0.85]}, "process_id": "quantiles", "result": true}}}}, "process_id": "aggregate_temporal_period"}, "apply1": {"arguments": {"data": {"from_node": "resamplespatial3"}, "process": {"process_graph": {"log1": {"arguments": {"base": 10, "x": {"from_parameter": "x"}}, "process_id": "log"}, "multiply4": {"arguments": {"x": 10, "y": {"from_node": "log1"}}, "process_id": "multiply", "result": true}}}}, "process_id": "apply"}, "apply2": {"arguments": {"data": {"from_node": "aggregatetemporalperiod1"}, "process": {"process_graph": {"runudf1": {"arguments": {"data": {"from_parameter": "x"}, "runtime": "Python", "udf": "import logging\n\nimport numpy as np\nimport xarray as xr\nfrom openeo.udf import XarrayDataCube\nfrom pyproj import Transformer\n\n\n# Setup logging\ndef _setup_logging() -> logging.Logger:\n    logging.basicConfig(level=logging.INFO, format=\"%(message)s\")\n    return logging.getLogger(__name__)\n\n\nfrom openeo.udf.udf_data import UdfData\n\nlogger = _setup_logging()\n\n\ndef apply_udf_data(udf_data: UdfData) -> UdfData:\n    \"\"\"This is the actual openeo UDF that will be executed by the backend.\"\"\"\n\n    cube = udf_data.datacube_list[0]\n    arr = cube.get_array().transpose(\"bands\", \"y\", \"x\")\n\n    crs = udf_data.proj\n    if crs is not None:\n        crs = crs[\"EPSG\"]\n\n    logger.info(f\"EPSG code determined for feature extraction: {crs}\")\n\n    transformer = Transformer.from_crs(crs, \"EPSG:4326\", always_xy=True)\n    longitudes, latitudes = transformer.transform(arr.x, arr.y)\n    lon_grid, lat_grid = np.meshgrid(longitudes, latitudes)\n\n    logger.info(f\"Transformed longitudes range: {longitudes.min()}, {longitudes.max()}\")\n    logger.info(f\"Transformed latitudes range: {latitudes.min()}, {latitudes.max()}\")\n\n    combined = xr.DataArray(\n        data=np.stack([lon_grid, lat_grid], axis=0),  # shape: (2, y, x)\n        dims=(\"bands\", \"y\", \"x\"),\n        coords={\"bands\": [\"lon\", \"lat\"], \"x\": arr.coords[\"x\"], \"y\": arr.coords[\"y\"]},\n    )\n\n    cube_output = XarrayDataCube(combined)\n    udf_data.datacube_list = [cube_output]\n\n    return udf_data\n"}, "process_id": "run_udf", "result": true}}}}, "process_id": "apply"}, "apply3": {"arguments": {"data": {"from_node": "mergecubes6"}, "process": {"process_graph": {"runudf2": {"arguments": {"context": {"model_id": "WorldAgriCommodities_Africa_v1"}, "data": {"from_parameter": "x"}, "runtime": "Python", "udf": "import functools\nimport logging\nfrom typing import List\n\nimport numpy as np\nimport requests\nimport xarray as xr\nfrom openeo.metadata import CollectionMetadata\n\n# Configure logging\nlogging.basicConfig(level=logging.INFO, format=\"%(message)s\")\nlogger = logging.getLogger(__name__)\n\n\n@functools.lru_cache(maxsize=1)\ndef get_model_metadata_from_stac(\n    model_id: str, stac_api_url: str = \"https://stac.openeo.vito.be\"\n) -> dict:\n    \"\"\"Fetch model metadata from STAC API\"\"\"\n    try:\n        # Get collection and item\n        collection_id = \"world-agri-commodities-models\"\n        url = f\"{stac_api_url}/collections/{collection_id}/items/{model_id}\"\n\n        response = requests.get(url)\n        response.raise_for_status()\n\n        item = response.json()\n        properties = item.get(\"properties\", {})\n\n        logger.info(f\"Retrieved model metadata for {model_id}\")\n        return {\n            \"input_bands\": properties.get(\"input_channels\", []),\n            \"input_shape\": properties.get(\"input_shape\", 0),\n        }\n\n    except Exception as e:\n        logger.error(f\"Failed to fetch model metadata: {e}\")\n        raise\n\n\ndef get_normalization_specs(input_bands: List[str]) -> dict:\n    \"\"\"Dynamically generate normalization specs based on input bands\"\"\"\n    specs = {\n        \"optical\": {\n            \"B02\": (1.7417268007636313, 2.023298706048351),\n            \"B03\": (1.7261204997060209, 2.038905204308012),\n            \"B04\": (1.6798346251414997, 2.179592821212937),\n            \"B05\": (2.3828939530384052, 2.7578332604178284),\n            \"B06\": (1.7417268007636313, 2.023298706048351),\n            \"B07\": (1.7417268007636313, 2.023298706048351),\n            \"B08\": (1.7417268007636313, 2.023298706048351),\n            \"B11\": (1.7417268007636313, 2.023298706048351),\n            \"B12\": (1.7417268007636313, 2.023298706048351),\n        },\n        \"linear\": {\n            \"NDVI\": (0, 1),\n            \"NDRE\": (-1, 1),\n            \"EVI\": (-1, 1),\n            \"VV\": (-25, 0),\n            \"VH\": (-30, -5),\n            \"DEM\": (-400, 8000),\n            \"lon\": (-180, 180),\n            \"lat\": (-60, 60),\n        },\n    }\n\n    # Filter specs to only include bands that are actually in the input\n    filtered_specs = {\"optical\": {}, \"linear\": {}}\n\n    for band in input_bands:\n        if band in specs[\"optical\"]:\n            filtered_specs[\"optical\"][band] = specs[\"optical\"][band]\n        elif band in specs[\"linear\"]:\n            filtered_specs[\"linear\"][band] = specs[\"linear\"][band]\n\n    return filtered_specs\n\n\ndef _normalize_optical(arr: np.ndarray, min_spec: float, max_spec: float) -> np.ndarray:\n    \"\"\"Log-based normalization for optical bands.\"\"\"\n    arr = np.log(arr * 0.005 + 1)\n    arr = (arr - min_spec) / (max_spec)\n    arr = np.exp(arr * 5 - 1)\n    return arr / (arr + 1)\n\n\ndef _normalize_linear(arr: np.ndarray, min_spec: float, max_spec: float) -> np.ndarray:\n    \"\"\"Linear min\u2013max normalization for continuous variables.\"\"\"\n    arr = np.clip(arr, min_spec, max_spec)\n    return (arr - min_spec) / (max_spec - min_spec)\n\n\nNORMALIZE_FUNCS = {\n    \"optical\": _normalize_optical,\n    \"linear\": _normalize_linear,\n}\n\n\ndef validate_bands(cube: xr.DataArray, expected_bands: list):\n    band_names = list(cube.coords[\"bands\"].values)\n    logger.info(f\"Input bands: {band_names}\")\n    logger.info(f\"Expected bands from model: {expected_bands}\")\n\n    # Check for missing required bands\n    missing_bands = [b for b in expected_bands if b not in band_names]\n    if missing_bands:\n        raise ValueError(f\"Missing required bands: {missing_bands}. Got: {band_names}\")\n\n    # Check order\n    if band_names != expected_bands:\n        logger.warning(\n            f\"Band order mismatch: reordering from {band_names} to {expected_bands}\"\n        )\n        cube = cube.sel(bands=expected_bands)\n\n    return cube\n\n\ndef apply_datacube(cube: xr.DataArray, context: dict) -> xr.DataArray:\n    \"\"\"\n    Normalize bands based on model metadata from STAC API.\n    \"\"\"\n    logger.info(f\"Received data with shape: {cube.shape}, dims: {cube.dims}\")\n\n    # Get model ID from context\n    model_id = context.get(\"model_id\")\n    if not model_id:\n        raise ValueError(\"model_id must be provided in context\")\n\n    # Fetch model metadata from STAC\n    model_metadata = get_model_metadata_from_stac(model_id)\n    expected_bands = model_metadata[\"input_bands\"]\n\n    logger.info(f\"Using model: {model_id} with expected bands: {expected_bands}\")\n    logger.info(f\"Model expects {model_metadata['input_shape']} input bands\")\n\n    # Validate and reorder bands\n    cube = validate_bands(cube, expected_bands)\n\n    # Get normalization specs for this specific model\n    normalization_specs = get_normalization_specs(expected_bands)\n\n    band_names = list(cube.coords[\"bands\"].values)\n    logger.info(f\"Normalizing bands: {band_names}\")\n\n    img_values = cube.values\n    normalized_bands = []\n\n    for band in band_names:\n        arr = img_values[band_names.index(band)]\n        pre_stats = (arr.min(), arr.max(), arr.mean())\n\n        # Find which group this band belongs to\n        group = None\n        for g, specs in normalization_specs.items():\n            if band in specs:\n                group = g\n                min_spec, max_spec = specs[band]\n                norm_func = NORMALIZE_FUNCS[group]\n                normalized = norm_func(arr, min_spec, max_spec)\n                post_stats = (normalized.min(), normalized.max(), normalized.mean())\n                logger.info(\n                    f\"Band {band}: group={group}, \"\n                    f\"min={pre_stats[0]:.3f}->{post_stats[0]:.3f}, \"\n                    f\"max={pre_stats[1]:.3f}->{post_stats[1]:.3f}\"\n                )\n                normalized_bands.append(normalized)\n                break\n\n        if group is None:\n            logger.warning(f\"Band {band}: no normalization defined, leaving unchanged.\")\n            normalized_bands.append(arr.astype(np.float32))\n\n    # Stack back into DataArray\n    result_array = np.stack(normalized_bands, axis=0)\n    da = xr.DataArray(\n        result_array,\n        dims=(\"bands\", \"y\", \"x\"),\n        coords={\n            \"bands\": band_names,\n            \"x\": cube.coords[\"x\"],\n            \"y\": cube.coords[\"y\"],\n        },\n    )\n    logger.info(f\"Normalization complete for model {model_id}\")\n    return da\n\n\ndef apply_metadata(metadata: CollectionMetadata, context: dict) -> CollectionMetadata:\n    model_id = context.get(\"model_id\")\n\n    # Fetch model metadata from STAC\n    model_metadata = get_model_metadata_from_stac(model_id)\n    input_bands = model_metadata.get(\"input_bands\", [])\n\n    logger.info(f\"Applying metadata with input bands: {input_bands}\")\n    return metadata.rename_labels(dimension=\"bands\", target=input_bands)\n"}, "process_id": "run_udf", "result": true}}}}, "process_id": "apply"}, "applyneighborhood1": {"arguments": {"data": {"from_node": "apply3"}, "overlap": [{"dimension": "x", "unit": "px", "value": 16}, {"dimension": "y", "unit": "px", "value": 16}], "process": {"process_graph": {"runudf3": {"arguments": {"context": {"model_id": "WorldAgriCommodities_Africa_v1"}, "data": {"from_parameter": "data"}, "runtime": "Python", "udf": "import functools\nimport hashlib\nimport logging\nimport os\nimport sys\nimport tempfile\nimport threading\nfrom typing import Dict, Tuple\nimport logging\nimport numpy as np\nimport requests\nimport xarray as xr\nfrom openeo.metadata import CollectionMetadata\n\nlogger = logging.getLogger(__name__)\n\n# Global lock dictionary for thread-safe model downloading\n_model_locks: Dict[str, threading.Lock] = {}\n_model_locks_lock = threading.Lock()  # Lock for managing the lock dictionary\n\n\ndef get_model_lock(model_id: str) -> threading.Lock:\n    \"\"\"Get or create a lock for a specific model ID (thread-safe).\"\"\"\n    with _model_locks_lock:\n        if model_id not in _model_locks:\n            _model_locks[model_id] = threading.Lock()\n        return _model_locks[model_id]\n\n\ndef get_model_cache_path(model_id: str, cache_dir: str = \"/tmp/onnx_models\") -> str:\n    \"\"\"Get the cache path for a model, creating directory if needed.\"\"\"\n    os.makedirs(cache_dir, exist_ok=True)\n\n    # Create a safe filename from model_id\n    model_hash = hashlib.md5(model_id.encode()).hexdigest()\n    return os.path.join(cache_dir, f\"{model_hash}.onnx\")\n\n\ndef download_model_with_lock(\n    model_id: str,\n    model_url: str,\n    cache_dir: str = \"/tmp/onnx_models\",\n    max_file_size_mb: int = 250,\n) -> str:\n    \"\"\"\n    Download model with thread locking to prevent concurrent downloads.\n    \"\"\"\n    cache_path = get_model_cache_path(model_id, cache_dir)\n\n    # Get the lock for this specific model\n    lock = get_model_lock(model_id)\n\n    with lock:\n        # Check if model already exists in cache\n        if os.path.exists(cache_path):\n            logger.info(f\"Using cached model: {cache_path}\")\n            return cache_path\n\n        # Download the model\n        logger.info(f\"Downloading model {model_id} from {model_url}\")\n\n        try:\n            # Create temporary file\n            temp_fd, temp_path = tempfile.mkstemp(suffix=\".onnx\", dir=cache_dir)\n\n            try:\n                with os.fdopen(temp_fd, \"wb\") as temp_file:\n                    response = requests.get(model_url, stream=True, timeout=300)\n                    response.raise_for_status()\n\n                    # Download with size checking\n                    downloaded_size = 0\n                    for chunk in response.iter_content(chunk_size=8192):\n                        if chunk:\n                            temp_file.write(chunk)\n                            downloaded_size += len(chunk)\n                            if downloaded_size > max_file_size_mb * 1024 * 1024:\n                                raise ValueError(\n                                    f\"Downloaded file exceeds size limit of {max_file_size_mb}MB\"\n                                )\n\n                # Atomic move from temp file to final location\n                os.rename(temp_path, cache_path)\n                logger.info(f\"Successfully downloaded and cached model: {cache_path}\")\n\n            except Exception as e:\n                # Clean up temp file on error\n                try:\n                    os.unlink(temp_path)\n                except OSError:\n                    pass\n                raise ValueError(f\"Error downloading model {model_id}: {e}\")\n\n        except Exception as e:\n            logger.error(f\"Failed to download model {model_id}: {e}\")\n            raise\n\n    return cache_path\n\n\ndef get_model_from_stac(\n    model_id: str,\n    stac_api_url: str = \"https://stac.openeo.vito.be\",\n    cache_dir: str = \"/tmp/onnx_models\",\n) -> Tuple[str, dict]:\n    \"\"\"Fetch model file and metadata from STAC API with caching.\"\"\"\n    try:\n        collection_id = \"world-agri-commodities-models\"\n        url = f\"{stac_api_url}/collections/{collection_id}/items/{model_id}\"\n\n        response = requests.get(url, timeout=30)\n        response.raise_for_status()\n\n        item = response.json()\n        properties = item.get(\"properties\", {})\n        assets = item.get(\"assets\", {})\n\n        # Get model URL\n        model_asset = assets.get(\"model\")\n        if not model_asset:\n            raise ValueError(f\"No model asset found for {model_id}\")\n\n        model_url = model_asset[\"href\"]\n\n        # Download model with caching and locking\n        model_path = download_model_with_lock(model_id, model_url, cache_dir)\n\n        metadata = {\n            \"input_bands\": properties.get(\"input_channels\", []),\n            \"output_classes\": properties.get(\"output_classes\", []),\n            \"output_shape\": properties.get(\"output_shape\", 0),\n            \"framework\": properties.get(\"framework\", \"ONNX\"),\n            \"region\": properties.get(\"region\", \"Unknown\"),\n            \"model_url\": model_url,\n            \"cached_path\": model_path,\n        }\n\n        logger.info(\n            f\"Retrieved model {model_id} with {len(metadata['output_classes'])} output classes\"\n        )\n        return model_path, metadata\n\n    except Exception as e:\n        logger.error(f\"Failed to fetch model from STAC: {e}\")\n        raise\n\n\n# Add ONNX paths\nsys.path.append(\"onnx_deps\")\nimport onnxruntime as ort\n\n# Constants for sanitization\n_INF_REPLACEMENT = 1e6\n_NEG_INF_REPLACEMENT = -1e6\n\n\n@functools.lru_cache(maxsize=1)\ndef _load_ort_session(model_id: str) -> Tuple[ort.InferenceSession, dict]:\n    \"\"\"Loads an ONNX model from STAC and returns session with metadata\"\"\"\n    model_path, metadata = get_model_from_stac(model_id)\n\n    try:\n        session = ort.InferenceSession(model_path)\n        logger.info(f\"Loaded ONNX model for {model_id} on path {model_path}\")\n        return session, metadata\n    finally:\n        # Clean up temporary file\n        try:\n            os.unlink(model_path)\n        except OSError as e:\n            raise RuntimeError(\n                f\"Failed to delete temporary model file: {model_path}\"\n            ) from e\n\n\ndef apply_metadata(metadata: CollectionMetadata, context: dict) -> CollectionMetadata:\n    model_id = context.get(\"model_id\")\n    _, metadata_dict = _load_ort_session(model_id)\n\n    output_classes = metadata_dict[\"output_classes\"] + [\"ARGMAX\"]\n    logger.info(f\"Applying metadata with output classes: {output_classes}\")\n    return metadata.rename_labels(dimension=\"bands\", target=output_classes)\n\n\ndef preprocess_image(\n    cube: xr.DataArray,\n) -> Tuple[np.ndarray, Dict[str, xr.DataArray], np.ndarray]:\n    \"\"\"\n    Prepare the input cube for inference:\n      - Transpose to (y, x, bands)\n      - Sanitize NaN/Inf\n      - Return batch tensor, coords, and invalid-value mask\n    \"\"\"\n    # Reorder dims\n    if 't' in cube.dims:\n        cube = cube.squeeze('t', drop=True)\n\n    reordered = cube.transpose(\"y\", \"x\", \"bands\")\n    values = reordered.values.astype(np.float32)\n\n    # Mask invalid entries\n    mask_invalid = ~np.isfinite(values)\n\n    # Replace NaN with 0, inf with large sentinel\n    sanitized = np.where(np.isnan(values), 0.0, values)  # TODO validate if this is okay\n    sanitized = np.where(np.isposinf(sanitized), _INF_REPLACEMENT, sanitized)\n    sanitized = np.where(np.isneginf(sanitized), _NEG_INF_REPLACEMENT, sanitized)\n\n    # Add batch dimension\n    input_tensor = sanitized[None, ...]\n    logger.info(f\"Preprocessed tensor shape={input_tensor.shape}\")\n    return input_tensor, dict(reordered.coords), mask_invalid\n\n\ndef run_inference(\n    session: ort.InferenceSession, input_name: str, input_tensor: np.ndarray\n) -> np.ndarray:\n    \"\"\"Run ONNX session and remove batch dimension from output.\"\"\"\n    outputs = session.run(None, {input_name: input_tensor})\n    pred = np.squeeze(outputs[0], axis=0)\n    logger.info(f\"Inference output shape={pred.shape}\")\n    return pred\n\n\n# TODO\ndef postprocess_output(\n    pred: np.ndarray,  # Shape: [y, x, bands]\n    coords: Dict[str, xr.DataArray],\n    mask_invalid: np.ndarray,  # Shape: [y, x, bands]\n) -> xr.DataArray:\n    \"\"\"\n    Appends winning class index as new band to predictions:\n      - Keeps original prediction values\n      - Adds new band (-1 for invalid, 0..n-1 for winning class)\n    \"\"\"\n\n    # Apply sigmoid\n    # sigmoid_probs = expit(pred)  # shape [y, x, bands]\n\n    # Optionally pick highest prob if needed\n    # class_index = np.argmax(pred, axis=-1, keepdims=True)\n\n    # Identify invalid pixels (any invalid in input bands)\n    class_index = np.argmax(pred, axis=-1, keepdims=True)  # shape [y, x, 1]\n\n    invalid_mask = np.any(mask_invalid, axis=-1, keepdims=True)\n    class_index = np.where(invalid_mask, -1, class_index).astype(np.float32)\n\n    # Update band coordinates\n    new_band_coords = np.arange(pred.shape[-1] + 1)\n\n    combined = np.concatenate([pred, class_index], axis=-1)\n\n    return xr.DataArray(\n        combined,\n        dims=(\"y\", \"x\", \"bands\"),\n        coords={\"y\": coords[\"y\"], \"x\": coords[\"x\"], \"bands\": new_band_coords},\n        attrs={\"description\": \"Original preds, sigmoid probs, class index\"},\n    )\n\n\ndef apply_model(cube: xr.DataArray, model_id: str) -> xr.DataArray:\n    \"\"\"\n    Full inference pipeline:\n      - Read ONNX model input shape\n      - If model expects 15 bands \u2192 drop NDRE/EVI by name\n      - Preprocess \u2192 infer \u2192 postprocess\n    \"\"\"\n    session, metadata = _load_ort_session(model_id)\n\n    input_bands = metadata[\"input_bands\"]\n    output_classes = metadata[\"output_classes\"]\n\n    logger.info(f\"Running inference for model {model_id}\")\n    logger.info(f\"Input bands: {input_bands}\")\n    logger.info(f\"Output bands: {output_classes}\")\n\n    # Validate input bands match expectations\n    cube_bands = list(cube.coords[\"bands\"].values)\n    if cube_bands != input_bands:\n        logger.warning(f\"Band mismatch. Cube: {cube_bands}, Model: {input_bands}\")\n        cube = cube.sel(bands=input_bands)\n\n    input_tensor, coords, mask_invalid = preprocess_image(cube)\n    input_name = session.get_inputs()[0].name\n    raw_pred = run_inference(session, input_name, input_tensor)\n\n    return postprocess_output(raw_pred, coords, mask_invalid)\n\n\n\ndef apply_datacube(cube: xr.DataArray, context: dict) -> xr.DataArray:\n    \"\"\"\n    Apply ONNX model per timestep in the datacube.\n    \"\"\"\n    model_id = context.get(\"model_id\")\n    if not model_id:\n        raise ValueError(\"model_id must be provided in context\")\n\n    logger.info(f\"Applying model from STAC: {model_id}\")\n\n    # Ensure correct dimension order\n    cube = cube.transpose('y', 'x', 'bands', 't')\n\n    if \"t\" in cube.dims:\n        logger.info(\"Applying model per timestep via groupby-map.\")\n        # Use isel to handle time dimension properly\n        def process_timestep(da):\n            return apply_model(da, model_id)\n\n        return cube.groupby('t').map(process_timestep)\n    else:\n        logger.info(\"Single timestep: applying model once.\")\n        return apply_model(cube, model_id)\n\n\n\n\n\n"}, "process_id": "run_udf", "result": true}}}, "size": [{"dimension": "x", "unit": "px", "value": 128}, {"dimension": "y", "unit": "px", "value": 128}]}, "process_id": "apply_neighborhood"}, "arrayelement10": {"arguments": {"data": ["2025-01-01", "2025-12-31"], "index": 0}, "process_id": "array_element"}, "arrayelement11": {"arguments": {"data": ["2025-01-01", "2025-12-31"], "index": 1}, "process_id": "array_element"}, "dateshift1": {"arguments": {"date": {"from_node": "arrayelement11"}, "unit": "day", "value": 1}, "process_id": "date_shift"}, "loadcollection1": {"arguments": {"bands": ["B02", "B03", "B04", "B05", "B06", "B07", "B08", "B11", "B12"], "id": "SENTINEL2_L2A", "properties": {"eo:cloud_cover": {"process_graph": {"lte1": {"arguments": {"x": {"from_parameter": "value"}, "y": 75}, "process_id": "lte", "result": true}}}}, "spatial_extent": {"crs": "EPSG:32634", "east": 817838.336850123, "north": -522493.8634415434, "south": -522776.47462956805, "west": 817475.0741295104}, "temporal_extent": ["2025-01-01", "2025-12-31"]}, "process_id": "load_collection"}, "loadcollection2": {"arguments": {"bands": ["SCL"], "id": "SENTINEL2_L2A", "properties": {"eo:cloud_cover": {"process_graph": {"lte2": {"arguments": {"x": {"from_parameter": "value"}, "y": 75}, "process_id": "lte", "result": true}}}}, "spatial_extent": {"crs": "EPSG:32634", "east": 817838.336850123, "north": -522493.8634415434, "south": -522776.47462956805, "west": 817475.0741295104}, "temporal_extent": ["2025-01-01", "2025-12-31"]}, "process_id": "load_collection"}, "loadcollection3": {"arguments": {"bands": ["VV", "VH"], "id": "SENTINEL1_GLOBAL_MOSAICS", "spatial_extent": {"crs": "EPSG:32634", "east": 817838.336850123, "north": -522493.8634415434, "south": -522776.47462956805, "west": 817475.0741295104}, "temporal_extent": [{"from_node": "arrayelement10"}, {"from_node": "dateshift1"}]}, "process_id": "load_collection"}, "loadcollection4": {"arguments": {"id": "COPERNICUS_30", "spatial_extent": {"crs": "EPSG:32634", "east": 817838.336850123, "north": -522493.8634415434, "south": -522776.47462956805, "west": 817475.0741295104}, "temporal_extent": null}, "process_id": "load_collection"}, "loadstac1": {"arguments": {"bands": ["MAP"], "spatial_extent": {"crs": "EPSG:32634", "east": 817838.336850123, "north": -522493.8634415434, "south": -522776.47462956805, "west": 817475.0741295104}, "url": "https://www.stac.lcfm.dataspace.copernicus.eu/collections/LCFM_TCD-10_CDSE_v100"}, "process_id": "load_stac"}, "mask1": {"arguments": {"data": {"from_node": "resamplespatial1"}, "mask": {"from_node": "toscldilationmask1"}}, "process_id": "mask"}, "mergecubes1": {"arguments": {"cube1": {"from_node": "adddimension1"}, "cube2": {"from_node": "adddimension2"}}, "process_id": "merge_cubes"}, "mergecubes2": {"arguments": {"cube1": {"from_node": "mergecubes1"}, "cube2": {"from_node": "adddimension3"}}, "process_id": "merge_cubes"}, "mergecubes3": {"arguments": {"cube1": {"from_node": "aggregatetemporalperiod1"}, "cube2": {"from_node": "mergecubes2"}}, "process_id": "merge_cubes"}, "mergecubes4": {"arguments": {"cube1": {"from_node": "mergecubes3"}, "cube2": {"from_node": "aggregatetemporalperiod2"}}, "process_id": "merge_cubes"}, "mergecubes5": {"arguments": {"cube1": {"from_node": "mergecubes4"}, "cube2": {"from_node": "reducedimension3"}}, "process_id": "merge_cubes"}, "mergecubes6": {"arguments": {"cube1": {"from_node": "mergecubes5"}, "cube2": {"from_node": "renamelabels1"}}, "process_id": "merge_cubes"}, "mergecubes7": {"arguments": {"cube1": {"from_node": "applyneighborhood1"}, "cube2": {"from_node": "renamelabels2"}}, "process_id": "merge_cubes"}, "ndvi1": {"arguments": {"data": {"from_node": "aggregatetemporalperiod1"}, "nir": "B08", "red": "B04"}, "process_id": "ndvi"}, "reducedimension1": {"arguments": {"data": {"from_node": "aggregatetemporalperiod1"}, "dimension": "bands", "reducer": {"process_graph": {"add1": {"arguments": {"x": {"from_node": "arrayelement3"}, "y": {"from_node": "arrayelement4"}}, "process_id": "add"}, "arrayelement1": {"arguments": {"data": {"from_parameter": "data"}, "index": 6}, "process_id": "array_element"}, "arrayelement2": {"arguments": {"data": {"from_parameter": "data"}, "index": 3}, "process_id": "array_element"}, "arrayelement3": {"arguments": {"data": {"from_parameter": "data"}, "index": 6}, "process_id": "array_element"}, "arrayelement4": {"arguments": {"data": {"from_parameter": "data"}, "index": 3}, "process_id": "array_element"}, "divide1": {"arguments": {"x": {"from_node": "subtract1"}, "y": {"from_node": "add1"}}, "process_id": "divide", "result": true}, "subtract1": {"arguments": {"x": {"from_node": "arrayelement1"}, "y": {"from_node": "arrayelement2"}}, "process_id": "subtract"}}}}, "process_id": "reduce_dimension"}, "reducedimension2": {"arguments": {"data": {"from_node": "aggregatetemporalperiod1"}, "dimension": "bands", "reducer": {"process_graph": {"add2": {"arguments": {"x": {"from_node": "arrayelement7"}, "y": {"from_node": "multiply2"}}, "process_id": "add"}, "add3": {"arguments": {"x": {"from_node": "subtract3"}, "y": 1}, "process_id": "add"}, "arrayelement5": {"arguments": {"data": {"from_parameter": "data"}, "index": 6}, "process_id": "array_element"}, "arrayelement6": {"arguments": {"data": {"from_parameter": "data"}, "index": 2}, "process_id": "array_element"}, "arrayelement7": {"arguments": {"data": {"from_parameter": "data"}, "index": 6}, "process_id": "array_element"}, "arrayelement8": {"arguments": {"data": {"from_parameter": "data"}, "index": 2}, "process_id": "array_element"}, "arrayelement9": {"arguments": {"data": {"from_parameter": "data"}, "index": 0}, "process_id": "array_element"}, "divide2": {"arguments": {"x": {"from_node": "multiply1"}, "y": {"from_node": "add3"}}, "process_id": "divide", "result": true}, "multiply1": {"arguments": {"x": 2.5, "y": {"from_node": "subtract2"}}, "process_id": "multiply"}, "multiply2": {"arguments": {"x": 6, "y": {"from_node": "arrayelement8"}}, "process_id": "multiply"}, "multiply3": {"arguments": {"x": 7.5, "y": {"from_node": "arrayelement9"}}, "process_id": "multiply"}, "subtract2": {"arguments": {"x": {"from_node": "arrayelement5"}, "y": {"from_node": "arrayelement6"}}, "process_id": "subtract"}, "subtract3": {"arguments": {"x": {"from_node": "add2"}, "y": {"from_node": "multiply3"}}, "process_id": "subtract"}}}}, "process_id": "reduce_dimension"}, "reducedimension3": {"arguments": {"data": {"from_node": "resamplespatial4"}, "dimension": "t", "reducer": {"process_graph": {"max1": {"arguments": {"data": {"from_parameter": "data"}}, "process_id": "max", "result": true}}}}, "process_id": "reduce_dimension"}, "reducedimension4": {"arguments": {"data": {"from_node": "loadstac1"}, "dimension": "t", "reducer": {"process_graph": {"min1": {"arguments": {"data": {"from_parameter": "data"}}, "process_id": "min", "result": true}}}}, "process_id": "reduce_dimension"}, "renamelabels1": {"arguments": {"data": {"from_node": "resamplespatial5"}, "dimension": "bands", "target": ["lon", "lat"]}, "process_id": "rename_labels"}, "renamelabels2": {"arguments": {"data": {"from_node": "reducedimension4"}, "dimension": "bands", "target": ["Tree_cover_density_2020"]}, "process_id": "rename_labels"}, "resamplespatial1": {"arguments": {"align": "upper-left", "data": {"from_node": "loadcollection1"}, "method": "near", "projection": "EPSG:32634", "resolution": 10}, "process_id": "resample_spatial"}, "resamplespatial2": {"arguments": {"align": "upper-left", "data": {"from_node": "loadcollection2"}, "method": "near", "projection": "EPSG:32634", "resolution": 10}, "process_id": "resample_spatial"}, "resamplespatial3": {"arguments": {"align": "upper-left", "data": {"from_node": "loadcollection3"}, "method": "near", "projection": "EPSG:32634", "resolution": 10}, "process_id": "resample_spatial"}, "resamplespatial4": {"arguments": {"align": "upper-left", "data": {"from_node": "loadcollection4"}, "method": "bilinear", "projection": "EPSG:32634", "resolution": 10}, "process_id": "resample_spatial"}, "resamplespatial5": {"arguments": {"align": "upper-left", "data": {"from_node": "apply2"}, "method": "near", "projection": "EPSG:32634", "resolution": 10}, "process_id": "resample_spatial"}, "saveresult1": {"arguments": {"data": {"from_node": "mergecubes7"}, "format": "netcdf", "options": {}}, "process_id": "save_result", "result": true}, "toscldilationmask1": {"arguments": {"data": {"from_node": "resamplespatial2"}}, "process_id": "to_scl_dilation_mask"}}, "format": "openeo"}, "processing:facility": "openEO Geotrellis backend", "processing:software": {"Geotrellis backend": "0.70.0a5"}, "roles": ["processor"]}], "stac_extensions": ["https://stac-extensions.github.io/eo/v1.1.0/schema.json", "https://stac-extensions.github.io/file/v2.1.0/schema.json", "https://stac-extensions.github.io/processing/v1.1.0/schema.json", "https://stac-extensions.github.io/projection/v1.1.0/schema.json"], "stac_version": "1.0.0", "summaries": {}, "title": "WorldAgroCommodities Inference Benchmark Test", "type": "Collection"}
