{"assets": {"openEO.nc": {"bands": [{"name": "prob_class_0"}, {"name": "prob_class_1"}, {"name": "prob_class_2"}, {"name": "prob_class_3"}, {"name": "prob_class_4"}, {"name": "prob_class_5"}, {"name": "prob_class_6"}, {"name": "prob_class_7"}, {"name": "prob_class_8"}, {"name": "prob_class_9"}, {"name": "prob_class_10"}, {"name": "prob_class_11"}, {"name": "prob_class_12"}, {"name": "prob_class_13"}, {"name": "prob_class_14"}, {"name": "prob_class_15"}, {"name": "prob_class_16"}, {"name": "prob_class_17"}, {"name": "prob_class_18"}, {"name": "prob_class_19"}, {"name": "prob_class_20"}, {"name": "prob_class_21"}, {"name": "prob_class_22"}, {"name": "prob_class_23"}], "eo:bands": [{"name": "prob_class_0"}, {"name": "prob_class_1"}, {"name": "prob_class_2"}, {"name": "prob_class_3"}, {"name": "prob_class_4"}, {"name": "prob_class_5"}, {"name": "prob_class_6"}, {"name": "prob_class_7"}, {"name": "prob_class_8"}, {"name": "prob_class_9"}, {"name": "prob_class_10"}, {"name": "prob_class_11"}, {"name": "prob_class_12"}, {"name": "prob_class_13"}, {"name": "prob_class_14"}, {"name": "prob_class_15"}, {"name": "prob_class_16"}, {"name": "prob_class_17"}, {"name": "prob_class_18"}, {"name": "prob_class_19"}, {"name": "prob_class_20"}, {"name": "prob_class_21"}, {"name": "prob_class_22"}, {"name": "prob_class_23"}], "href": "https://openeo.dataspace.copernicus.eu/openeo/1.2/jobs/j-25072313094043c6aa6fb2d7184d147a/results/assets/YTQyMWY4NDktMmFlNi00MmQzLTkzZjAtYjQzYWEyNTY3ZjFl/9470e6f5cee899526ef3bb4c47ec0a63/openEO.nc?expires=1753881657", "proj:bbox": [300000, 9800000, 305000, 9805000], "proj:epsg": 3035, "proj:shape": [500, 500], "raster:bands": [{"name": "prob_class_0", "statistics": {"maximum": 87.698654174805, "mean": 0.088225803358532, "minimum": 2.3442329005115e-30, "stddev": 1.2414397902405, "valid_percent": 100}}, {"name": "prob_class_1", "statistics": {"maximum": 67.292991638184, "mean": 0.017359833252296, "minimum": 2.0874299377524e-31, "stddev": 0.32997496075545, "valid_percent": 100}}, {"name": "prob_class_2", "statistics": {"maximum": 100, "mean": 34.29463241863, "minimum": 2.0323985114418e-29, "stddev": 44.096792313017, "valid_percent": 100}}, {"name": "prob_class_3", "statistics": {"maximum": 99.999877929688, "mean": 2.5906834909543, "minimum": 5.7329984804451e-28, "stddev": 13.925750375941, "valid_percent": 100}}, {"name": "prob_class_4", "statistics": {"maximum": 100, "mean": 6.6504253579944, "minimum": 9.8847261185929e-32, "stddev": 21.702405873129, "valid_percent": 100}}, {"name": "prob_class_5", "statistics": {"maximum": 100, "mean": 22.698804551613, "minimum": 6.6323259725403e-22, "stddev": 38.241559515637, "valid_percent": 100}}, {"name": "prob_class_6", "statistics": {"maximum": 100, "mean": 2.2220031295953, "minimum": 4.4123764620423e-35, "stddev": 12.591059775103, "valid_percent": 100}}, {"name": "prob_class_7", "statistics": {"maximum": 98.993011474609, "mean": 0.055101282144654, "minimum": 1.7314933494933e-36, "stddev": 1.4407565254452, "valid_percent": 100}}, {"name": "prob_class_8", "statistics": {"maximum": 100, "mean": 2.5377396302198, "minimum": 8.6470097954962e-31, "stddev": 14.819771872169, "valid_percent": 100}}, {"name": "prob_class_9", "statistics": {"maximum": 100, "mean": 11.205141085196, "minimum": 6.7247570446188e-21, "stddev": 28.435149133681, "valid_percent": 100}}, {"name": "prob_class_10", "statistics": {"maximum": 98.586814880371, "mean": 0.084211269930284, "minimum": 1.6293708219116e-27, "stddev": 1.5559898598165, "valid_percent": 100}}, {"name": "prob_class_11", "statistics": {"maximum": 99.998237609863, "mean": 0.16577960277757, "minimum": 2.6072890817941e-32, "stddev": 3.5833051094618, "valid_percent": 100}}, {"name": "prob_class_12", "statistics": {"maximum": 99.999992370605, "mean": 3.4874190237743, "minimum": 7.0042397711179e-25, "stddev": 15.287585931061, "valid_percent": 100}}, {"name": "prob_class_13", "statistics": {"maximum": 100, "mean": 9.9245624448822, "minimum": 4.43842697806e-34, "stddev": 26.885397423324, "valid_percent": 100}}, {"name": "prob_class_14", "statistics": {"maximum": 99.255165100098, "mean": 0.26901380405166, "minimum": 3.3037744311177e-26, "stddev": 3.1662317227812, "valid_percent": 100}}, {"name": "prob_class_15", "statistics": {"maximum": 98.779640197754, "mean": 0.54472826601537, "minimum": 7.9881287857844e-26, "stddev": 4.6271704764039, "valid_percent": 100}}, {"name": "prob_class_16", "statistics": {"maximum": 99.993827819824, "mean": 1.6678081026709, "minimum": 3.8474389767724e-29, "stddev": 9.1668455108609, "valid_percent": 100}}, {"name": "prob_class_17", "statistics": {"maximum": 25.124015808105, "mean": 0.0079324756529353, "minimum": 2.0074333436111e-29, "stddev": 0.14101884690987, "valid_percent": 100}}, {"name": "prob_class_18", "statistics": {"maximum": 96.600219726562, "mean": 0.20051666120486, "minimum": 6.646707263928e-31, "stddev": 2.8910965171236, "valid_percent": 100}}, {"name": "prob_class_19", "statistics": {"maximum": 99.640205383301, "mean": 0.8698568249619, "minimum": 0, "stddev": 6.1978796022051, "valid_percent": 100}}, {"name": "prob_class_20", "statistics": {"maximum": 41.698921203613, "mean": 0.036214296227976, "minimum": 1.0038229596662e-26, "stddev": 0.41286878561608, "valid_percent": 100}}, {"name": "prob_class_21", "statistics": {"maximum": 99.078430175781, "mean": 0.28974723739315, "minimum": 1.0660164360406e-24, "stddev": 3.8223296510006, "valid_percent": 100}}, {"name": "prob_class_22", "statistics": {"maximum": 99.943321228027, "mean": 0.092094944498827, "minimum": 8.2572945361407e-25, "stddev": 2.1957805120474, "valid_percent": 100}}], "roles": ["data"], "title": "openEO.nc", "type": "application/x-netcdf"}}, "description": "Results for batch job j-25072313094043c6aa6fb2d7184d147a", "extent": {"spatial": {"bbox": [[-124.01459266296197, 45.91202504309554, -123.9395005352897, 45.98646181534071]]}, "temporal": {"interval": [["2023-05-31T00:00:00Z", "2023-08-01T00:00:00Z"]]}}, "id": "j-25072313094043c6aa6fb2d7184d147a", "license": "proprietary", "links": [{"href": "/eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2023/06/01/Sentinel-1_IW_mosaic_2023_M06_10TDR_0_0", "rel": "derived_from", "title": "Derived from /eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2023/06/01/Sentinel-1_IW_mosaic_2023_M06_10TDR_0_0", "type": "application/json"}, {"href": "/eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2023/07/01/Sentinel-1_IW_mosaic_2023_M07_10TDR_0_0", "rel": "derived_from", "title": "Derived from /eodata/Global-Mosaics/Sentinel-1/S1SAR_L3_IW_MCM/2023/07/01/Sentinel-1_IW_mosaic_2023_M07_10TDR_0_0", "type": "application/json"}, {"href": "/eodata/auxdata/CopDEM/COP-DEM_GLO-30-DGED/DEM1_SAR_DGE_30_20110422T020852_20140825T021130_ADS_000000_7uxm.DEM", "rel": "derived_from", "title": "Derived from /eodata/auxdata/CopDEM/COP-DEM_GLO-30-DGED/DEM1_SAR_DGE_30_20110422T020852_20140825T021130_ADS_000000_7uxm.DEM", "type": "application/json"}, {"href": "/eodata/auxdata/CopDEM/COP-DEM_GLO-30-DGED/DEM1_SAR_DGE_30_20110422T020852_20140831T020311_ADS_000000_AZgC.DEM", "rel": "derived_from", "title": "Derived from /eodata/auxdata/CopDEM/COP-DEM_GLO-30-DGED/DEM1_SAR_DGE_30_20110422T020852_20140831T020311_ADS_000000_AZgC.DEM", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/04/S2A_MSIL2A_20230704T190921_N0510_R056_T10TDS_20240912T224754.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/04/S2A_MSIL2A_20230704T190921_N0510_R056_T10TDS_20240912T224754.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/29/S2B_MSIL2A_20230729T190919_N0510_R056_T10TDR_20240929T132228.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/29/S2B_MSIL2A_20230729T190919_N0510_R056_T10TDR_20240929T132228.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/19/S2B_MSIL2A_20230719T190919_N0510_R056_T10TDS_20240911T210427.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/19/S2B_MSIL2A_20230719T190919_N0510_R056_T10TDS_20240911T210427.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/09/S2B_MSIL2A_20230709T190919_N0510_R056_T10TDS_20240911T015550.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/09/S2B_MSIL2A_20230709T190919_N0510_R056_T10TDS_20240911T015550.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/09/S2B_MSIL2A_20230709T190919_N0510_R056_T10TDR_20240911T015550.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/09/S2B_MSIL2A_20230709T190919_N0510_R056_T10TDR_20240911T015550.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/29/S2B_MSIL2A_20230729T190919_N0510_R056_T10TDS_20240929T132228.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/29/S2B_MSIL2A_20230729T190919_N0510_R056_T10TDS_20240929T132228.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/19/S2B_MSIL2A_20230619T190919_N0510_R056_T10TDR_20240913T141959.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/19/S2B_MSIL2A_20230619T190919_N0510_R056_T10TDR_20240913T141959.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/04/S2A_MSIL2A_20230604T190921_N0510_R056_T10TDS_20240910T111220.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/04/S2A_MSIL2A_20230604T190921_N0510_R056_T10TDS_20240910T111220.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/19/S2B_MSIL2A_20230719T190919_N0510_R056_T10TDR_20240911T210427.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/19/S2B_MSIL2A_20230719T190919_N0510_R056_T10TDR_20240911T210427.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/04/S2A_MSIL2A_20230704T190921_N0510_R056_T10TDR_20240912T224754.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/04/S2A_MSIL2A_20230704T190921_N0510_R056_T10TDR_20240912T224754.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/14/S2A_MSIL2A_20230614T190921_N0510_R056_T10TDR_20240910T140322.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/14/S2A_MSIL2A_20230614T190921_N0510_R056_T10TDR_20240910T140322.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/19/S2B_MSIL2A_20230619T190919_N0510_R056_T10TDS_20240913T141959.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/19/S2B_MSIL2A_20230619T190919_N0510_R056_T10TDS_20240913T141959.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/24/S2A_MSIL2A_20230624T190921_N0510_R056_T10TDR_20240911T232003.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/24/S2A_MSIL2A_20230624T190921_N0510_R056_T10TDR_20240911T232003.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/29/S2B_MSIL2A_20230629T190919_N0510_R056_T10TDR_20241012T054221.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/29/S2B_MSIL2A_20230629T190919_N0510_R056_T10TDR_20241012T054221.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/24/S2A_MSIL2A_20230624T190921_N0510_R056_T10TDS_20240911T232003.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/24/S2A_MSIL2A_20230624T190921_N0510_R056_T10TDS_20240911T232003.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/29/S2B_MSIL2A_20230629T190919_N0510_R056_T10TDS_20241012T054221.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/29/S2B_MSIL2A_20230629T190919_N0510_R056_T10TDS_20241012T054221.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/04/S2A_MSIL2A_20230604T190921_N0510_R056_T10TDR_20240910T111220.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/04/S2A_MSIL2A_20230604T190921_N0510_R056_T10TDR_20240910T111220.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/14/S2A_MSIL2A_20230714T190921_N0510_R056_T10TDS_20240926T101014.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/14/S2A_MSIL2A_20230714T190921_N0510_R056_T10TDS_20240926T101014.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/14/S2A_MSIL2A_20230714T190921_N0510_R056_T10TDR_20240926T101014.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/14/S2A_MSIL2A_20230714T190921_N0510_R056_T10TDR_20240926T101014.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/04/S2A_MSIL2A_20230704T190921_N0510_R056_T10TDS_20240912T224754.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/04/S2A_MSIL2A_20230704T190921_N0510_R056_T10TDS_20240912T224754.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/19/S2B_MSIL2A_20230719T190919_N0510_R056_T10TDS_20240911T210427.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/19/S2B_MSIL2A_20230719T190919_N0510_R056_T10TDS_20240911T210427.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/29/S2B_MSIL2A_20230729T190919_N0510_R056_T10TDR_20240929T132228.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/29/S2B_MSIL2A_20230729T190919_N0510_R056_T10TDR_20240929T132228.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/09/S2B_MSIL2A_20230709T190919_N0510_R056_T10TDS_20240911T015550.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/09/S2B_MSIL2A_20230709T190919_N0510_R056_T10TDS_20240911T015550.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/09/S2B_MSIL2A_20230709T190919_N0510_R056_T10TDR_20240911T015550.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/09/S2B_MSIL2A_20230709T190919_N0510_R056_T10TDR_20240911T015550.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/29/S2B_MSIL2A_20230729T190919_N0510_R056_T10TDS_20240929T132228.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/29/S2B_MSIL2A_20230729T190919_N0510_R056_T10TDS_20240929T132228.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/04/S2A_MSIL2A_20230604T190921_N0510_R056_T10TDS_20240910T111220.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/04/S2A_MSIL2A_20230604T190921_N0510_R056_T10TDS_20240910T111220.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/19/S2B_MSIL2A_20230619T190919_N0510_R056_T10TDR_20240913T141959.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/19/S2B_MSIL2A_20230619T190919_N0510_R056_T10TDR_20240913T141959.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/04/S2A_MSIL2A_20230704T190921_N0510_R056_T10TDR_20240912T224754.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/04/S2A_MSIL2A_20230704T190921_N0510_R056_T10TDR_20240912T224754.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/19/S2B_MSIL2A_20230719T190919_N0510_R056_T10TDR_20240911T210427.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/19/S2B_MSIL2A_20230719T190919_N0510_R056_T10TDR_20240911T210427.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/14/S2A_MSIL2A_20230614T190921_N0510_R056_T10TDR_20240910T140322.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/14/S2A_MSIL2A_20230614T190921_N0510_R056_T10TDR_20240910T140322.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/24/S2A_MSIL2A_20230624T190921_N0510_R056_T10TDR_20240911T232003.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/24/S2A_MSIL2A_20230624T190921_N0510_R056_T10TDR_20240911T232003.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/19/S2B_MSIL2A_20230619T190919_N0510_R056_T10TDS_20240913T141959.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/19/S2B_MSIL2A_20230619T190919_N0510_R056_T10TDS_20240913T141959.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/29/S2B_MSIL2A_20230629T190919_N0510_R056_T10TDR_20241012T054221.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/29/S2B_MSIL2A_20230629T190919_N0510_R056_T10TDR_20241012T054221.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/24/S2A_MSIL2A_20230624T190921_N0510_R056_T10TDS_20240911T232003.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/24/S2A_MSIL2A_20230624T190921_N0510_R056_T10TDS_20240911T232003.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/29/S2B_MSIL2A_20230629T190919_N0510_R056_T10TDS_20241012T054221.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/29/S2B_MSIL2A_20230629T190919_N0510_R056_T10TDS_20241012T054221.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/06/04/S2A_MSIL2A_20230604T190921_N0510_R056_T10TDR_20240910T111220.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/06/04/S2A_MSIL2A_20230604T190921_N0510_R056_T10TDR_20240910T111220.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/14/S2A_MSIL2A_20230714T190921_N0510_R056_T10TDS_20240926T101014.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/14/S2A_MSIL2A_20230714T190921_N0510_R056_T10TDS_20240926T101014.SAFE", "type": "application/json"}, {"href": "/eodata/Sentinel-2/MSI/L2A_N0500/2023/07/14/S2A_MSIL2A_20230714T190921_N0510_R056_T10TDR_20240926T101014.SAFE", "rel": "derived_from", "title": "Derived from /eodata/Sentinel-2/MSI/L2A_N0500/2023/07/14/S2A_MSIL2A_20230714T190921_N0510_R056_T10TDR_20240926T101014.SAFE", "type": "application/json"}, {"href": "https://openeo.dataspace.copernicus.eu/openeo/1.2/jobs/j-25072313094043c6aa6fb2d7184d147a/results", "rel": "self", "type": "application/json"}, {"href": "https://openeo.dataspace.copernicus.eu/openeo/1.2/jobs/j-25072313094043c6aa6fb2d7184d147a/results/YTQyMWY4NDktMmFlNi00MmQzLTkzZjAtYjQzYWEyNTY3ZjFl/b2641c537bb5d11e0516bb234ec9c33f?expires=1753881657", "rel": "canonical", "type": "application/json"}, {"href": "http://ceos.org/ard/files/PFS/SR/v5.0/CARD4L_Product_Family_Specification_Surface_Reflectance-v5.0.pdf", "rel": "card4l-document", "type": "application/pdf"}, {"href": "https://openeo.dataspace.copernicus.eu/openeo/1.2/jobs/j-25072313094043c6aa6fb2d7184d147a/results/items/YTQyMWY4NDktMmFlNi00MmQzLTkzZjAtYjQzYWEyNTY3ZjFl/9470e6f5cee899526ef3bb4c47ec0a63/openEO.nc?expires=1753881657", "rel": "item", "type": "application/geo+json"}], "openeo:status": "finished", "providers": [{"description": "This data was processed on an openEO backend maintained by VITO.", "name": "VITO", "processing:expression": {"expression": {"adddimension1": {"arguments": {"data": {"from_node": "mergecubes1"}, "label": "B02", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "adddimension10": {"arguments": {"data": {"from_node": "ndvi1"}, "label": "NDVI", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "adddimension11": {"arguments": {"data": {"from_node": "apply28"}, "label": "NDVI", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "adddimension12": {"arguments": {"data": {"from_node": "apply30"}, "label": "VV", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "adddimension13": {"arguments": {"data": {"from_node": "apply31"}, "label": "VH", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "adddimension14": {"arguments": {"data": {"from_node": "apply32"}, "label": "DEM", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "adddimension15": {"arguments": {"data": {"from_node": "apply34"}, "label": "lon", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "adddimension16": {"arguments": {"data": {"from_node": "apply35"}, "label": "lat", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "adddimension2": {"arguments": {"data": {"from_node": "mergecubes2"}, "label": "B03", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "adddimension3": {"arguments": {"data": {"from_node": "mergecubes4"}, "label": "B04", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "adddimension4": {"arguments": {"data": {"from_node": "mergecubes6"}, "label": "B05", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "adddimension5": {"arguments": {"data": {"from_node": "mergecubes8"}, "label": "B06", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "adddimension6": {"arguments": {"data": {"from_node": "mergecubes10"}, "label": "B07", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "adddimension7": {"arguments": {"data": {"from_node": "mergecubes12"}, "label": "B08", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "adddimension8": {"arguments": {"data": {"from_node": "mergecubes14"}, "label": "B11", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "adddimension9": {"arguments": {"data": {"from_node": "mergecubes16"}, "label": "B12", "name": "bands", "type": "bands"}, "process_id": "add_dimension"}, "aggregatetemporalperiod1": {"arguments": {"data": {"from_node": "mask1"}, "period": "month", "reducer": {"process_graph": {"mean1": {"arguments": {"data": {"from_parameter": "data"}}, "process_id": "mean", "result": true}}}}, "process_id": "aggregate_temporal_period"}, "apply1": {"arguments": {"data": {"from_node": "reducedimension1"}, "process": {"process_graph": {"add1": {"arguments": {"x": 1, "y": {"from_node": "ln1"}}, "process_id": "add"}, "divide1": {"arguments": {"x": {"from_node": "subtract1"}, "y": 0.28157190528471965}, "process_id": "divide"}, "ln1": {"arguments": {"x": {"from_parameter": "x"}}, "process_id": "ln"}, "multiply2": {"arguments": {"x": {"from_node": "divide1"}, "y": 5.0}, "process_id": "multiply"}, "subtract1": {"arguments": {"x": {"from_node": "add1"}, "y": 1.7417268007636313}, "process_id": "subtract"}, "subtract2": {"arguments": {"x": {"from_node": "multiply2"}, "y": 1.0}, "process_id": "subtract", "result": true}}}}, "process_id": "apply"}, "apply10": {"arguments": {"data": {"from_node": "reducedimension4"}, "process": {"process_graph": {"add7": {"arguments": {"x": 1, "y": {"from_node": "ln4"}}, "process_id": "add"}, "divide7": {"arguments": {"x": {"from_node": "subtract7"}, "y": 0.37493930737942316}, "process_id": "divide"}, "ln4": {"arguments": {"x": {"from_parameter": "x"}}, "process_id": "ln"}, "multiply8": {"arguments": {"x": {"from_node": "divide7"}, "y": 5.0}, "process_id": "multiply"}, "subtract7": {"arguments": {"x": {"from_node": "add7"}, "y": 2.3828939530384052}, "process_id": "subtract"}, "subtract8": {"arguments": {"x": {"from_node": "multiply8"}, "y": 1.0}, "process_id": "subtract", "result": true}}}}, "process_id": "apply"}, "apply11": {"arguments": {"data": {"from_node": "apply10"}, "process": {"process_graph": {"exp7": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp", "result": true}}}}, "process_id": "apply"}, "apply12": {"arguments": {"data": {"from_node": "apply10"}, "process": {"process_graph": {"add8": {"arguments": {"x": {"from_node": "exp8"}, "y": 1.0}, "process_id": "add", "result": true}, "exp8": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp"}}}}, "process_id": "apply"}, "apply13": {"arguments": {"data": {"from_node": "reducedimension5"}, "process": {"process_graph": {"add9": {"arguments": {"x": 1, "y": {"from_node": "ln5"}}, "process_id": "add"}, "divide9": {"arguments": {"x": {"from_node": "subtract9"}, "y": 0.28157190528471965}, "process_id": "divide"}, "ln5": {"arguments": {"x": {"from_parameter": "x"}}, "process_id": "ln"}, "multiply10": {"arguments": {"x": {"from_node": "divide9"}, "y": 5.0}, "process_id": "multiply"}, "subtract10": {"arguments": {"x": {"from_node": "multiply10"}, "y": 1.0}, "process_id": "subtract", "result": true}, "subtract9": {"arguments": {"x": {"from_node": "add9"}, "y": 1.7417268007636313}, "process_id": "subtract"}}}}, "process_id": "apply"}, "apply14": {"arguments": {"data": {"from_node": "apply13"}, "process": {"process_graph": {"exp9": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp", "result": true}}}}, "process_id": "apply"}, "apply15": {"arguments": {"data": {"from_node": "apply13"}, "process": {"process_graph": {"add10": {"arguments": {"x": {"from_node": "exp10"}, "y": 1.0}, "process_id": "add", "result": true}, "exp10": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp"}}}}, "process_id": "apply"}, "apply16": {"arguments": {"data": {"from_node": "reducedimension6"}, "process": {"process_graph": {"add11": {"arguments": {"x": 1, "y": {"from_node": "ln6"}}, "process_id": "add"}, "divide11": {"arguments": {"x": {"from_node": "subtract11"}, "y": 0.28157190528471965}, "process_id": "divide"}, "ln6": {"arguments": {"x": {"from_parameter": "x"}}, "process_id": "ln"}, "multiply12": {"arguments": {"x": {"from_node": "divide11"}, "y": 5.0}, "process_id": "multiply"}, "subtract11": {"arguments": {"x": {"from_node": "add11"}, "y": 1.7417268007636313}, "process_id": "subtract"}, "subtract12": {"arguments": {"x": {"from_node": "multiply12"}, "y": 1.0}, "process_id": "subtract", "result": true}}}}, "process_id": "apply"}, "apply17": {"arguments": {"data": {"from_node": "apply16"}, "process": {"process_graph": {"exp11": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp", "result": true}}}}, "process_id": "apply"}, "apply18": {"arguments": {"data": {"from_node": "apply16"}, "process": {"process_graph": {"add12": {"arguments": {"x": {"from_node": "exp12"}, "y": 1.0}, "process_id": "add", "result": true}, "exp12": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp"}}}}, "process_id": "apply"}, "apply19": {"arguments": {"data": {"from_node": "reducedimension7"}, "process": {"process_graph": {"add13": {"arguments": {"x": 1, "y": {"from_node": "ln7"}}, "process_id": "add"}, "divide13": {"arguments": {"x": {"from_node": "subtract13"}, "y": 0.28157190528471965}, "process_id": "divide"}, "ln7": {"arguments": {"x": {"from_parameter": "x"}}, "process_id": "ln"}, "multiply14": {"arguments": {"x": {"from_node": "divide13"}, "y": 5.0}, "process_id": "multiply"}, "subtract13": {"arguments": {"x": {"from_node": "add13"}, "y": 1.7417268007636313}, "process_id": "subtract"}, "subtract14": {"arguments": {"x": {"from_node": "multiply14"}, "y": 1.0}, "process_id": "subtract", "result": true}}}}, "process_id": "apply"}, "apply2": {"arguments": {"data": {"from_node": "apply1"}, "process": {"process_graph": {"exp1": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp", "result": true}}}}, "process_id": "apply"}, "apply20": {"arguments": {"data": {"from_node": "apply19"}, "process": {"process_graph": {"exp13": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp", "result": true}}}}, "process_id": "apply"}, "apply21": {"arguments": {"data": {"from_node": "apply19"}, "process": {"process_graph": {"add14": {"arguments": {"x": {"from_node": "exp14"}, "y": 1.0}, "process_id": "add", "result": true}, "exp14": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp"}}}}, "process_id": "apply"}, "apply22": {"arguments": {"data": {"from_node": "reducedimension8"}, "process": {"process_graph": {"add15": {"arguments": {"x": 1, "y": {"from_node": "ln8"}}, "process_id": "add"}, "divide15": {"arguments": {"x": {"from_node": "subtract15"}, "y": 0.28157190528471965}, "process_id": "divide"}, "ln8": {"arguments": {"x": {"from_parameter": "x"}}, "process_id": "ln"}, "multiply16": {"arguments": {"x": {"from_node": "divide15"}, "y": 5.0}, "process_id": "multiply"}, "subtract15": {"arguments": {"x": {"from_node": "add15"}, "y": 1.7417268007636313}, "process_id": "subtract"}, "subtract16": {"arguments": {"x": {"from_node": "multiply16"}, "y": 1.0}, "process_id": "subtract", "result": true}}}}, "process_id": "apply"}, "apply23": {"arguments": {"data": {"from_node": "apply22"}, "process": {"process_graph": {"exp15": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp", "result": true}}}}, "process_id": "apply"}, "apply24": {"arguments": {"data": {"from_node": "apply22"}, "process": {"process_graph": {"add16": {"arguments": {"x": {"from_node": "exp16"}, "y": 1.0}, "process_id": "add", "result": true}, "exp16": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp"}}}}, "process_id": "apply"}, "apply25": {"arguments": {"data": {"from_node": "reducedimension9"}, "process": {"process_graph": {"add17": {"arguments": {"x": 1, "y": {"from_node": "ln9"}}, "process_id": "add"}, "divide17": {"arguments": {"x": {"from_node": "subtract17"}, "y": 0.28157190528471965}, "process_id": "divide"}, "ln9": {"arguments": {"x": {"from_parameter": "x"}}, "process_id": "ln"}, "multiply18": {"arguments": {"x": {"from_node": "divide17"}, "y": 5.0}, "process_id": "multiply"}, "subtract17": {"arguments": {"x": {"from_node": "add17"}, "y": 1.7417268007636313}, "process_id": "subtract"}, "subtract18": {"arguments": {"x": {"from_node": "multiply18"}, "y": 1.0}, "process_id": "subtract", "result": true}}}}, "process_id": "apply"}, "apply26": {"arguments": {"data": {"from_node": "apply25"}, "process": {"process_graph": {"exp17": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp", "result": true}}}}, "process_id": "apply"}, "apply27": {"arguments": {"data": {"from_node": "apply25"}, "process": {"process_graph": {"add18": {"arguments": {"x": {"from_node": "exp18"}, "y": 1.0}, "process_id": "add", "result": true}, "exp18": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp"}}}}, "process_id": "apply"}, "apply28": {"arguments": {"data": {"from_node": "reducedimension10"}, "process": {"process_graph": {"clip1": {"arguments": {"max": 1, "min": -1, "x": {"from_parameter": "x"}}, "process_id": "clip"}, "divide19": {"arguments": {"x": {"from_node": "subtract19"}, "y": 2}, "process_id": "divide", "result": true}, "subtract19": {"arguments": {"x": {"from_node": "clip1"}, "y": -1}, "process_id": "subtract"}}}}, "process_id": "apply"}, "apply29": {"arguments": {"data": {"from_node": "resamplespatial3"}, "process": {"process_graph": {"log1": {"arguments": {"base": 10, "x": {"from_parameter": "x"}}, "process_id": "log"}, "multiply19": {"arguments": {"x": 10, "y": {"from_node": "log1"}}, "process_id": "multiply", "result": true}}}}, "process_id": "apply"}, "apply3": {"arguments": {"data": {"from_node": "apply1"}, "process": {"process_graph": {"add2": {"arguments": {"x": {"from_node": "exp2"}, "y": 1.0}, "process_id": "add", "result": true}, "exp2": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp"}}}}, "process_id": "apply"}, "apply30": {"arguments": {"data": {"from_node": "reducedimension11"}, "process": {"process_graph": {"clip2": {"arguments": {"max": 0, "min": -25, "x": {"from_parameter": "x"}}, "process_id": "clip"}, "divide20": {"arguments": {"x": {"from_node": "subtract20"}, "y": 25}, "process_id": "divide", "result": true}, "subtract20": {"arguments": {"x": {"from_node": "clip2"}, "y": -25}, "process_id": "subtract"}}}}, "process_id": "apply"}, "apply31": {"arguments": {"data": {"from_node": "reducedimension12"}, "process": {"process_graph": {"clip3": {"arguments": {"max": -5, "min": -30, "x": {"from_parameter": "x"}}, "process_id": "clip"}, "divide21": {"arguments": {"x": {"from_node": "subtract21"}, "y": 25}, "process_id": "divide", "result": true}, "subtract21": {"arguments": {"x": {"from_node": "clip3"}, "y": -30}, "process_id": "subtract"}}}}, "process_id": "apply"}, "apply32": {"arguments": {"data": {"from_node": "reducedimension14"}, "process": {"process_graph": {"clip4": {"arguments": {"max": 8000, "min": -400, "x": {"from_parameter": "x"}}, "process_id": "clip"}, "divide22": {"arguments": {"x": {"from_node": "subtract22"}, "y": 8400}, "process_id": "divide", "result": true}, "subtract22": {"arguments": {"x": {"from_node": "clip4"}, "y": -400}, "process_id": "subtract"}}}}, "process_id": "apply"}, "apply33": {"arguments": {"data": {"from_node": "aggregatetemporalperiod1"}, "process": {"process_graph": {"runudf1": {"arguments": {"context": {"crs": "EPSG:3035", "east": 305000, "north": 9805000, "south": 9800000, "west": 300000}, "data": {"from_parameter": "x"}, "runtime": "Python", "udf": "import numpy as np\nimport xarray as xr\nimport logging\nfrom pyproj import Transformer\nfrom typing import Dict\n\n# Setup logging\ndef _setup_logging() -> logging.Logger:\n    logging.basicConfig(level=logging.INFO, format=\"%(message)s\")\n    return logging.getLogger(__name__)\n\nlogger = _setup_logging()\n\ndef apply_datacube(cube: xr.DataArray, context: Dict) -> xr.DataArray:\n    \"\"\"\n    Constructs a lon/lat grid as a new DataArray based on the cube's spatial resolution\n    and the geographic extent provided in `context`.\n\n    Args:\n        cube (xr.DataArray): Input data cube with 'x' and 'y' dimensions.\n        context (dict): Dictionary containing ''crs'.\n\n    Returns:\n        xr.DataArray: A new DataArray of shape (2, y, x) with bands ['lon', 'lat'].\n    \"\"\"\n\n\n    crs   = context[\"crs\"]\n    transformer = Transformer.from_crs(crs, \"EPSG:4326\", always_xy=True)\n    longitudes, latitudes = transformer.transform(cube.x, cube.y)\n    lon_grid, lat_grid = np.meshgrid(longitudes, latitudes)\n\n    logger.info(f\"Cube x range: {cube.x.min().values}, {cube.x.max().values}\")\n    logger.info(f\"Cube y range: {cube.y.min().values}, {cube.y.max().values}\")\n\n    logger.info(f\"Transformed longitudes range: {longitudes.min()}, {longitudes.max()}\")\n    logger.info(f\"Transformed latitudes range: {latitudes.min()}, {latitudes.max()}\")\n\n    \n    # Build output DataArray\n    return xr.DataArray(\n        data=np.stack([lon_grid, lat_grid], axis=0),  # shape: (2, y, x)\n        dims=(\"bands\", \"y\", \"x\"),\n        coords={\n            \"bands\": [\"lon\", \"lat\"],\n            \"x\": cube.coords[\"x\"],\n            \"y\": cube.coords[\"y\"]\n        }\n    )"}, "process_id": "run_udf", "result": true}}}}, "process_id": "apply"}, "apply34": {"arguments": {"data": {"from_node": "reducedimension15"}, "process": {"process_graph": {"clip5": {"arguments": {"max": 180, "min": -180, "x": {"from_parameter": "x"}}, "process_id": "clip"}, "divide23": {"arguments": {"x": {"from_node": "subtract23"}, "y": 360}, "process_id": "divide", "result": true}, "subtract23": {"arguments": {"x": {"from_node": "clip5"}, "y": -180}, "process_id": "subtract"}}}}, "process_id": "apply"}, "apply35": {"arguments": {"data": {"from_node": "reducedimension16"}, "process": {"process_graph": {"clip6": {"arguments": {"max": 60, "min": -60, "x": {"from_parameter": "x"}}, "process_id": "clip"}, "divide24": {"arguments": {"x": {"from_node": "subtract24"}, "y": 120}, "process_id": "divide", "result": true}, "subtract24": {"arguments": {"x": {"from_node": "clip6"}, "y": -60}, "process_id": "subtract"}}}}, "process_id": "apply"}, "apply4": {"arguments": {"data": {"from_node": "reducedimension2"}, "process": {"process_graph": {"add3": {"arguments": {"x": 1, "y": {"from_node": "ln2"}}, "process_id": "add"}, "divide3": {"arguments": {"x": {"from_node": "subtract3"}, "y": 0.31278470460199115}, "process_id": "divide"}, "ln2": {"arguments": {"x": {"from_parameter": "x"}}, "process_id": "ln"}, "multiply4": {"arguments": {"x": {"from_node": "divide3"}, "y": 5.0}, "process_id": "multiply"}, "subtract3": {"arguments": {"x": {"from_node": "add3"}, "y": 1.7261204997060209}, "process_id": "subtract"}, "subtract4": {"arguments": {"x": {"from_node": "multiply4"}, "y": 1.0}, "process_id": "subtract", "result": true}}}}, "process_id": "apply"}, "apply5": {"arguments": {"data": {"from_node": "apply4"}, "process": {"process_graph": {"exp3": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp", "result": true}}}}, "process_id": "apply"}, "apply6": {"arguments": {"data": {"from_node": "apply4"}, "process": {"process_graph": {"add4": {"arguments": {"x": {"from_node": "exp4"}, "y": 1.0}, "process_id": "add", "result": true}, "exp4": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp"}}}}, "process_id": "apply"}, "apply7": {"arguments": {"data": {"from_node": "reducedimension3"}, "process": {"process_graph": {"add5": {"arguments": {"x": 1, "y": {"from_node": "ln3"}}, "process_id": "add"}, "divide5": {"arguments": {"x": {"from_node": "subtract5"}, "y": 0.49975819607143745}, "process_id": "divide"}, "ln3": {"arguments": {"x": {"from_parameter": "x"}}, "process_id": "ln"}, "multiply6": {"arguments": {"x": {"from_node": "divide5"}, "y": 5.0}, "process_id": "multiply"}, "subtract5": {"arguments": {"x": {"from_node": "add5"}, "y": 1.6798346251414997}, "process_id": "subtract"}, "subtract6": {"arguments": {"x": {"from_node": "multiply6"}, "y": 1.0}, "process_id": "subtract", "result": true}}}}, "process_id": "apply"}, "apply8": {"arguments": {"data": {"from_node": "apply7"}, "process": {"process_graph": {"exp5": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp", "result": true}}}}, "process_id": "apply"}, "apply9": {"arguments": {"data": {"from_node": "apply7"}, "process": {"process_graph": {"add6": {"arguments": {"x": {"from_node": "exp6"}, "y": 1.0}, "process_id": "add", "result": true}, "exp6": {"arguments": {"p": {"from_parameter": "x"}}, "process_id": "exp"}}}}, "process_id": "apply"}, "applyneighborhood1": {"arguments": {"data": {"from_node": "mergecubes23"}, "overlap": [{"dimension": "x", "unit": "px", "value": 16}, {"dimension": "y", "unit": "px", "value": 16}], "process": {"process_graph": {"runudf2": {"arguments": {"context": {"model_path": "dynamic_models//best_weights_att_unet_lagtime_5_Fused3_2023_totalLoss6V1_without_loss_sent_Southeast_Asia20.onnx"}, "data": {"from_parameter": "data"}, "runtime": "Python", "udf": "import sys\nimport functools\nimport numpy as np\nimport xarray as xr\nimport logging\nfrom typing import Dict, Tuple\n\n\n# Setup logger\ndef _setup_logging():\n    logging.basicConfig(level=logging.INFO)\n    return logging.getLogger(__name__)\n\nlogger = _setup_logging()\n\n# Add ONNX paths\nsys.path.append(\"onnx_deps\")\nsys.path.append(\"onnx_models\")\nimport onnxruntime as ort\n\n# Constants for sanitization\n_INF_REPLACEMENT = 1e6\n_NEG_INF_REPLACEMENT = -1e6\n\n@functools.lru_cache(maxsize=1)\ndef _load_ort_session(model_name: str) -> ort.InferenceSession:\n    \"\"\"Loads an ONNX model and returns a cached ONNX runtime session.\"\"\"\n    return ort.InferenceSession(f\"onnx_models/{model_name}\")\n\ndef preprocess_image(cube: xr.DataArray) -> Tuple[np.ndarray, Dict[str, xr.Coordinate], np.ndarray]:\n    \"\"\"\n    Prepare the input cube for inference:\n      - Transpose to (y, x, bands)\n      - Sanitize NaN/Inf\n      - Return batch tensor, coords, and invalid-value mask\n    \"\"\"\n    # Reorder dims\n    reordered = cube.transpose(\"y\", \"x\", \"bands\")\n    values = reordered.values.astype(np.float32)\n\n    # Mask invalid entries\n    mask_invalid = ~np.isfinite(values)\n\n    # Replace NaN with 0, inf with large sentinel\n    sanitized = np.where(np.isnan(values), 0.0, values)\n    sanitized = np.where(np.isposinf(sanitized), _INF_REPLACEMENT, sanitized)\n    sanitized = np.where(np.isneginf(sanitized), _NEG_INF_REPLACEMENT, sanitized)\n\n    # Add batch dimension\n    input_tensor = sanitized[None, ...]\n    logger.info(f\"Preprocessed tensor shape={input_tensor.shape}\")\n    return input_tensor, reordered.coords, mask_invalid\n\n\ndef run_inference(\n    session: ort.InferenceSession,\n    input_name: str,\n    input_tensor: np.ndarray\n) -> np.ndarray:\n    \"\"\"Run ONNX session and remove batch dimension from output.\"\"\"\n    outputs = session.run(None, {input_name: input_tensor})\n    pred = np.squeeze(outputs[0], axis=0)\n    logger.info(f\"Inference output shape={pred.shape}\")\n    return pred\n\n\ndef postprocess_output(\n    pred: np.ndarray,\n    coords: Dict[str, xr.Coordinate],\n    mask_invalid: np.ndarray\n) -> xr.DataArray:\n    \"\"\"\n    Combine class predictions and probabilities into DataArray,\n    restoring NaNs for originally invalid pixels.\n    \"\"\"\n    # Remove background class (class 0)\n    scores = pred[..., 1:].astype(np.float32)\n\n    # Normalize probabilities across class axis\n    score_sums = np.sum(scores, axis=-1, keepdims=True)\n    normalized_scores = np.divide(\n        scores,\n        score_sums,\n        out=np.zeros_like(scores),\n        where=score_sums != 0\n    )\n\n    normalized_scores *= 100.0\n\n    # Restore invalid pixels as NaN\n    invalid_any = np.any(mask_invalid, axis=-1)\n    normalized_scores[invalid_any] = 0 #TODO which value to set?\n\n    # Build DataArray\n    y_coords = coords[\"y\"]\n    x_coords = coords[\"x\"]\n    band_coords = np.arange(normalized_scores.shape[-1])\n\n    return xr.DataArray(\n        normalized_scores,\n        dims=(\"y\", \"x\", \"bands\"),\n        coords={\"y\": y_coords, \"x\": x_coords, \"bands\": band_coords}\n    )\n\n\ndef apply_model(\n    cube: xr.DataArray,\n    model_path: str\n) -> xr.DataArray:\n    \"\"\"\n    Full inference pipeline: preprocess, infer, postprocess.\n    \"\"\"\n    input_tensor, coords, mask_invalid = preprocess_image(cube)\n    session = _load_ort_session(model_path)\n    input_name = session.get_inputs()[0].name\n    raw_pred = run_inference(session, input_name, input_tensor)\n    \n    result = postprocess_output(raw_pred, coords, mask_invalid)\n    logger.info(f\"apply_model result shape={result.shape}\")\n    return result\n\n\ndef apply_datacube(cube: xr.DataArray, context: dict) -> xr.DataArray:\n    \"\"\"\n    Apply ONNX model per timestep in the datacube.\n    \"\"\"\n    logger.info(f\"apply_datacube received shape={cube.shape}, dims={cube.dims}\")\n\n    model_path  = str(context.get(\"model_path\" ))\n\n    logger.info(f\"Applying model: {model_path}\")\n\n    cube = cube.transpose('y', 'x', 'bands', 't')\n\n    if 't' in cube.dims:\n        logger.info(\"Applying model per timestep via groupby-map.\")\n        return cube.groupby('t').map(lambda da: apply_model(da,  model_path))\n    else:\n        logger.info(\"Single timestep: applying model once.\")\n        return apply_model(cube,  model_path)"}, "process_id": "run_udf", "result": true}}}, "size": [{"dimension": "x", "unit": "px", "value": 64}, {"dimension": "y", "unit": "px", "value": 64}]}, "process_id": "apply_neighborhood"}, "loadcollection1": {"arguments": {"bands": ["B02", "B03", "B04", "B05", "B06", "B07", "B08", "B11", "B12"], "id": "SENTINEL2_L2A", "properties": {"eo:cloud_cover": {"process_graph": {"lte1": {"arguments": {"x": {"from_parameter": "value"}, "y": 85}, "process_id": "lte", "result": true}}}}, "spatial_extent": {"crs": "EPSG:3035", "east": 305000, "north": 9805000, "south": 9800000, "west": 300000}, "temporal_extent": ["2023-06-01", "2023-08-01"]}, "process_id": "load_collection"}, "loadcollection2": {"arguments": {"bands": ["SCL"], "id": "SENTINEL2_L2A", "properties": {"eo:cloud_cover": {"process_graph": {"lte2": {"arguments": {"x": {"from_parameter": "value"}, "y": 85}, "process_id": "lte", "result": true}}}}, "spatial_extent": {"crs": "EPSG:3035", "east": 305000, "north": 9805000, "south": 9800000, "west": 300000}, "temporal_extent": ["2023-06-01", "2023-08-01"]}, "process_id": "load_collection"}, "loadcollection3": {"arguments": {"bands": ["VV", "VH"], "id": "SENTINEL1_GLOBAL_MOSAICS", "spatial_extent": {"crs": "EPSG:3035", "east": 305000, "north": 9805000, "south": 9800000, "west": 300000}, "temporal_extent": ["2023-05-31", "2023-08-01"]}, "process_id": "load_collection"}, "loadcollection4": {"arguments": {"id": "COPERNICUS_30", "spatial_extent": {"crs": "EPSG:3035", "east": 305000, "north": 9805000, "south": 9800000, "west": 300000}, "temporal_extent": null}, "process_id": "load_collection"}, "mask1": {"arguments": {"data": {"from_node": "resamplespatial1"}, "mask": {"from_node": "toscldilationmask1"}}, "process_id": "mask"}, "mergecubes1": {"arguments": {"cube1": {"from_node": "apply2"}, "cube2": {"from_node": "apply3"}, "overlap_resolver": {"process_graph": {"divide2": {"arguments": {"x": {"from_parameter": "x"}, "y": {"from_parameter": "y"}}, "process_id": "divide", "result": true}}}}, "process_id": "merge_cubes"}, "mergecubes10": {"arguments": {"cube1": {"from_node": "apply17"}, "cube2": {"from_node": "apply18"}, "overlap_resolver": {"process_graph": {"divide12": {"arguments": {"x": {"from_parameter": "x"}, "y": {"from_parameter": "y"}}, "process_id": "divide", "result": true}}}}, "process_id": "merge_cubes"}, "mergecubes11": {"arguments": {"cube1": {"from_node": "mergecubes9"}, "cube2": {"from_node": "adddimension6"}}, "process_id": "merge_cubes"}, "mergecubes12": {"arguments": {"cube1": {"from_node": "apply20"}, "cube2": {"from_node": "apply21"}, "overlap_resolver": {"process_graph": {"divide14": {"arguments": {"x": {"from_parameter": "x"}, "y": {"from_parameter": "y"}}, "process_id": "divide", "result": true}}}}, "process_id": "merge_cubes"}, "mergecubes13": {"arguments": {"cube1": {"from_node": "mergecubes11"}, "cube2": {"from_node": "adddimension7"}}, "process_id": "merge_cubes"}, "mergecubes14": {"arguments": {"cube1": {"from_node": "apply23"}, "cube2": {"from_node": "apply24"}, "overlap_resolver": {"process_graph": {"divide16": {"arguments": {"x": {"from_parameter": "x"}, "y": {"from_parameter": "y"}}, "process_id": "divide", "result": true}}}}, "process_id": "merge_cubes"}, "mergecubes15": {"arguments": {"cube1": {"from_node": "mergecubes13"}, "cube2": {"from_node": "adddimension8"}}, "process_id": "merge_cubes"}, "mergecubes16": {"arguments": {"cube1": {"from_node": "apply26"}, "cube2": {"from_node": "apply27"}, "overlap_resolver": {"process_graph": {"divide18": {"arguments": {"x": {"from_parameter": "x"}, "y": {"from_parameter": "y"}}, "process_id": "divide", "result": true}}}}, "process_id": "merge_cubes"}, "mergecubes17": {"arguments": {"cube1": {"from_node": "mergecubes15"}, "cube2": {"from_node": "adddimension9"}}, "process_id": "merge_cubes"}, "mergecubes18": {"arguments": {"cube1": {"from_node": "mergecubes17"}, "cube2": {"from_node": "adddimension11"}}, "process_id": "merge_cubes"}, "mergecubes19": {"arguments": {"cube1": {"from_node": "adddimension12"}, "cube2": {"from_node": "adddimension13"}}, "process_id": "merge_cubes"}, "mergecubes2": {"arguments": {"cube1": {"from_node": "apply5"}, "cube2": {"from_node": "apply6"}, "overlap_resolver": {"process_graph": {"divide4": {"arguments": {"x": {"from_parameter": "x"}, "y": {"from_parameter": "y"}}, "process_id": "divide", "result": true}}}}, "process_id": "merge_cubes"}, "mergecubes20": {"arguments": {"cube1": {"from_node": "mergecubes18"}, "cube2": {"from_node": "mergecubes19"}}, "process_id": "merge_cubes"}, "mergecubes21": {"arguments": {"cube1": {"from_node": "mergecubes20"}, "cube2": {"from_node": "adddimension14"}}, "process_id": "merge_cubes"}, "mergecubes22": {"arguments": {"cube1": {"from_node": "adddimension15"}, "cube2": {"from_node": "adddimension16"}}, "process_id": "merge_cubes"}, "mergecubes23": {"arguments": {"cube1": {"from_node": "mergecubes21"}, "cube2": {"from_node": "mergecubes22"}}, "process_id": "merge_cubes"}, "mergecubes3": {"arguments": {"cube1": {"from_node": "adddimension1"}, "cube2": {"from_node": "adddimension2"}}, "process_id": "merge_cubes"}, "mergecubes4": {"arguments": {"cube1": {"from_node": "apply8"}, "cube2": {"from_node": "apply9"}, "overlap_resolver": {"process_graph": {"divide6": {"arguments": {"x": {"from_parameter": "x"}, "y": {"from_parameter": "y"}}, "process_id": "divide", "result": true}}}}, "process_id": "merge_cubes"}, "mergecubes5": {"arguments": {"cube1": {"from_node": "mergecubes3"}, "cube2": {"from_node": "adddimension3"}}, "process_id": "merge_cubes"}, "mergecubes6": {"arguments": {"cube1": {"from_node": "apply11"}, "cube2": {"from_node": "apply12"}, "overlap_resolver": {"process_graph": {"divide8": {"arguments": {"x": {"from_parameter": "x"}, "y": {"from_parameter": "y"}}, "process_id": "divide", "result": true}}}}, "process_id": "merge_cubes"}, "mergecubes7": {"arguments": {"cube1": {"from_node": "mergecubes5"}, "cube2": {"from_node": "adddimension4"}}, "process_id": "merge_cubes"}, "mergecubes8": {"arguments": {"cube1": {"from_node": "apply14"}, "cube2": {"from_node": "apply15"}, "overlap_resolver": {"process_graph": {"divide10": {"arguments": {"x": {"from_parameter": "x"}, "y": {"from_parameter": "y"}}, "process_id": "divide", "result": true}}}}, "process_id": "merge_cubes"}, "mergecubes9": {"arguments": {"cube1": {"from_node": "mergecubes7"}, "cube2": {"from_node": "adddimension5"}}, "process_id": "merge_cubes"}, "ndvi1": {"arguments": {"data": {"from_node": "aggregatetemporalperiod1"}, "nir": "B08", "red": "B04"}, "process_id": "ndvi"}, "reducedimension1": {"arguments": {"data": {"from_node": "aggregatetemporalperiod1"}, "dimension": "bands", "reducer": {"process_graph": {"arrayelement1": {"arguments": {"data": {"from_parameter": "data"}, "index": 0}, "process_id": "array_element"}, "multiply1": {"arguments": {"x": {"from_node": "arrayelement1"}, "y": 0.005}, "process_id": "multiply", "result": true}}}}, "process_id": "reduce_dimension"}, "reducedimension10": {"arguments": {"data": {"from_node": "adddimension10"}, "dimension": "bands", "reducer": {"process_graph": {"arrayelement10": {"arguments": {"data": {"from_parameter": "data"}, "index": 0}, "process_id": "array_element", "result": true}}}}, "process_id": "reduce_dimension"}, "reducedimension11": {"arguments": {"data": {"from_node": "apply29"}, "dimension": "bands", "reducer": {"process_graph": {"arrayelement11": {"arguments": {"data": {"from_parameter": "data"}, "index": 0}, "process_id": "array_element", "result": true}}}}, "process_id": "reduce_dimension"}, "reducedimension12": {"arguments": {"data": {"from_node": "apply29"}, "dimension": "bands", "reducer": {"process_graph": {"arrayelement12": {"arguments": {"data": {"from_parameter": "data"}, "index": 1}, "process_id": "array_element", "result": true}}}}, "process_id": "reduce_dimension"}, "reducedimension13": {"arguments": {"data": {"from_node": "resamplespatial4"}, "dimension": "t", "reducer": {"process_graph": {"mean2": {"arguments": {"data": {"from_parameter": "data"}}, "process_id": "mean", "result": true}}}}, "process_id": "reduce_dimension"}, "reducedimension14": {"arguments": {"data": {"from_node": "reducedimension13"}, "dimension": "bands", "reducer": {"process_graph": {"arrayelement13": {"arguments": {"data": {"from_parameter": "data"}, "index": 0}, "process_id": "array_element", "result": true}}}}, "process_id": "reduce_dimension"}, "reducedimension15": {"arguments": {"data": {"from_node": "renamelabels1"}, "dimension": "bands", "reducer": {"process_graph": {"arrayelement14": {"arguments": {"data": {"from_parameter": "data"}, "index": 0}, "process_id": "array_element", "result": true}}}}, "process_id": "reduce_dimension"}, "reducedimension16": {"arguments": {"data": {"from_node": "renamelabels1"}, "dimension": "bands", "reducer": {"process_graph": {"arrayelement15": {"arguments": {"data": {"from_parameter": "data"}, "index": 1}, "process_id": "array_element", "result": true}}}}, "process_id": "reduce_dimension"}, "reducedimension2": {"arguments": {"data": {"from_node": "aggregatetemporalperiod1"}, "dimension": "bands", "reducer": {"process_graph": {"arrayelement2": {"arguments": {"data": {"from_parameter": "data"}, "index": 1}, "process_id": "array_element"}, "multiply3": {"arguments": {"x": {"from_node": "arrayelement2"}, "y": 0.005}, "process_id": "multiply", "result": true}}}}, "process_id": "reduce_dimension"}, "reducedimension3": {"arguments": {"data": {"from_node": "aggregatetemporalperiod1"}, "dimension": "bands", "reducer": {"process_graph": {"arrayelement3": {"arguments": {"data": {"from_parameter": "data"}, "index": 2}, "process_id": "array_element"}, "multiply5": {"arguments": {"x": {"from_node": "arrayelement3"}, "y": 0.005}, "process_id": "multiply", "result": true}}}}, "process_id": "reduce_dimension"}, "reducedimension4": {"arguments": {"data": {"from_node": "aggregatetemporalperiod1"}, "dimension": "bands", "reducer": {"process_graph": {"arrayelement4": {"arguments": {"data": {"from_parameter": "data"}, "index": 3}, "process_id": "array_element"}, "multiply7": {"arguments": {"x": {"from_node": "arrayelement4"}, "y": 0.005}, "process_id": "multiply", "result": true}}}}, "process_id": "reduce_dimension"}, "reducedimension5": {"arguments": {"data": {"from_node": "aggregatetemporalperiod1"}, "dimension": "bands", "reducer": {"process_graph": {"arrayelement5": {"arguments": {"data": {"from_parameter": "data"}, "index": 4}, "process_id": "array_element"}, "multiply9": {"arguments": {"x": {"from_node": "arrayelement5"}, "y": 0.005}, "process_id": "multiply", "result": true}}}}, "process_id": "reduce_dimension"}, "reducedimension6": {"arguments": {"data": {"from_node": "aggregatetemporalperiod1"}, "dimension": "bands", "reducer": {"process_graph": {"arrayelement6": {"arguments": {"data": {"from_parameter": "data"}, "index": 5}, "process_id": "array_element"}, "multiply11": {"arguments": {"x": {"from_node": "arrayelement6"}, "y": 0.005}, "process_id": "multiply", "result": true}}}}, "process_id": "reduce_dimension"}, "reducedimension7": {"arguments": {"data": {"from_node": "aggregatetemporalperiod1"}, "dimension": "bands", "reducer": {"process_graph": {"arrayelement7": {"arguments": {"data": {"from_parameter": "data"}, "index": 6}, "process_id": "array_element"}, "multiply13": {"arguments": {"x": {"from_node": "arrayelement7"}, "y": 0.005}, "process_id": "multiply", "result": true}}}}, "process_id": "reduce_dimension"}, "reducedimension8": {"arguments": {"data": {"from_node": "aggregatetemporalperiod1"}, "dimension": "bands", "reducer": {"process_graph": {"arrayelement8": {"arguments": {"data": {"from_parameter": "data"}, "index": 7}, "process_id": "array_element"}, "multiply15": {"arguments": {"x": {"from_node": "arrayelement8"}, "y": 0.005}, "process_id": "multiply", "result": true}}}}, "process_id": "reduce_dimension"}, "reducedimension9": {"arguments": {"data": {"from_node": "aggregatetemporalperiod1"}, "dimension": "bands", "reducer": {"process_graph": {"arrayelement9": {"arguments": {"data": {"from_parameter": "data"}, "index": 8}, "process_id": "array_element"}, "multiply17": {"arguments": {"x": {"from_node": "arrayelement9"}, "y": 0.005}, "process_id": "multiply", "result": true}}}}, "process_id": "reduce_dimension"}, "renamelabels1": {"arguments": {"data": {"from_node": "resamplespatial5"}, "dimension": "bands", "target": ["lon", "lat"]}, "process_id": "rename_labels"}, "renamelabels2": {"arguments": {"data": {"from_node": "applyneighborhood1"}, "dimension": "bands", "target": ["prob_class_0", "prob_class_1", "prob_class_2", "prob_class_3", "prob_class_4", "prob_class_5", "prob_class_6", "prob_class_7", "prob_class_8", "prob_class_9", "prob_class_10", "prob_class_11", "prob_class_12", "prob_class_13", "prob_class_14", "prob_class_15", "prob_class_16", "prob_class_17", "prob_class_18", "prob_class_19", "prob_class_20", "prob_class_21", "prob_class_22", "prob_class_23"]}, "process_id": "rename_labels"}, "resamplespatial1": {"arguments": {"align": "upper-left", "data": {"from_node": "loadcollection1"}, "method": "near", "projection": "EPSG:3035", "resolution": 10}, "process_id": "resample_spatial"}, "resamplespatial2": {"arguments": {"align": "upper-left", "data": {"from_node": "loadcollection2"}, "method": "near", "projection": "EPSG:3035", "resolution": 10}, "process_id": "resample_spatial"}, "resamplespatial3": {"arguments": {"align": "upper-left", "data": {"from_node": "loadcollection3"}, "method": "near", "projection": "EPSG:3035", "resolution": 10}, "process_id": "resample_spatial"}, "resamplespatial4": {"arguments": {"align": "upper-left", "data": {"from_node": "loadcollection4"}, "method": "bilinear", "projection": "EPSG:3035", "resolution": 10}, "process_id": "resample_spatial"}, "resamplespatial5": {"arguments": {"align": "upper-left", "data": {"from_node": "apply33"}, "method": "near", "projection": "EPSG:3035", "resolution": 10}, "process_id": "resample_spatial"}, "saveresult1": {"arguments": {"data": {"from_node": "renamelabels2"}, "format": "netCDF", "options": {}}, "process_id": "save_result", "result": true}, "toscldilationmask1": {"arguments": {"data": {"from_node": "resamplespatial2"}}, "process_id": "to_scl_dilation_mask"}}, "format": "openeo"}, "processing:facility": "openEO Geotrellis backend", "processing:software": {"Geotrellis backend": "0.66.0a10"}, "roles": ["processor"]}], "stac_extensions": ["https://stac-extensions.github.io/eo/v1.1.0/schema.json", "https://stac-extensions.github.io/file/v2.1.0/schema.json", "https://stac-extensions.github.io/processing/v1.1.0/schema.json", "https://stac-extensions.github.io/projection/v1.1.0/schema.json"], "stac_version": "1.0.0", "summaries": {}, "type": "Collection"}